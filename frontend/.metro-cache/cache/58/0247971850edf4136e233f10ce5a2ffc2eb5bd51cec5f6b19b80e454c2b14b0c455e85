{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":42},"end":{"line":4,"column":31,"index":73}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/query-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":74},"end":{"line":5,"column":71,"index":145}}],"key":"GAsr4MDTe9ve1mRxgvML4iY2BZg=","exportNames":["*"],"imports":1}},{"name":"./QueryClientProvider.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":146},"end":{"line":6,"column":58,"index":204}}],"key":"R2Cn87b3k6V9pZdY+hWd8Ft8C58=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use client\";\n\n  // src/useMutationState.ts\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useIsMutating\", {\n    enumerable: true,\n    get: function () {\n      return useIsMutating;\n    }\n  });\n  Object.defineProperty(exports, \"useMutationState\", {\n    enumerable: true,\n    get: function () {\n      return useMutationState;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _tanstackQueryCore = require(_dependencyMap[1], \"@tanstack/query-core\");\n  var _QueryClientProviderJs = require(_dependencyMap[2], \"./QueryClientProvider.js\");\n  function useIsMutating(filters, queryClient) {\n    const client = (0, _QueryClientProviderJs.useQueryClient)(queryClient);\n    return useMutationState({\n      filters: {\n        ...filters,\n        status: \"pending\"\n      }\n    }, client).length;\n  }\n  function getResult(mutationCache, options) {\n    return mutationCache.findAll(options.filters).map(mutation => options.select ? options.select(mutation) : mutation.state);\n  }\n  function useMutationState(options = {}, queryClient) {\n    const mutationCache = (0, _QueryClientProviderJs.useQueryClient)(queryClient).getMutationCache();\n    const optionsRef = React.useRef(options);\n    const result = React.useRef(null);\n    if (!result.current) {\n      result.current = getResult(mutationCache, options);\n    }\n    React.useEffect(() => {\n      optionsRef.current = options;\n    });\n    return React.useSyncExternalStore(React.useCallback(onStoreChange => mutationCache.subscribe(() => {\n      const nextResult = (0, _tanstackQueryCore.replaceEqualDeep)(result.current, getResult(mutationCache, optionsRef.current));\n      if (result.current !== nextResult) {\n        result.current = nextResult;\n        _tanstackQueryCore.notifyManager.schedule(onStoreChange);\n      }\n    }), [mutationCache]), () => result.current, () => result.current);\n  }\n});","lineCount":71,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[5,2,3,0],[7,2,3,0,"Object"],[7,8,3,0],[7,9,3,0,"defineProperty"],[7,23,3,0],[7,24,3,0,"exports"],[7,31,3,0],[8,4,3,0,"value"],[8,9,3,0],[9,2,3,0],[10,2,3,0],[10,11,3,0,"_interopNamespace"],[10,29,3,0,"e"],[10,30,3,0],[11,4,3,0],[11,8,3,0,"e"],[11,9,3,0],[11,13,3,0,"e"],[11,14,3,0],[11,15,3,0,"__esModule"],[11,25,3,0],[11,34,3,0,"e"],[11,35,3,0],[12,4,3,0],[12,8,3,0,"n"],[12,9,3,0],[13,4,3,0],[13,8,3,0,"e"],[13,9,3,0],[13,11,3,0,"Object"],[13,17,3,0],[13,18,3,0,"keys"],[13,22,3,0],[13,23,3,0,"e"],[13,24,3,0],[13,26,3,0,"forEach"],[13,33,3,0],[13,44,3,0,"k"],[13,45,3,0],[14,6,3,0],[14,10,3,0,"d"],[14,11,3,0],[14,14,3,0,"Object"],[14,20,3,0],[14,21,3,0,"getOwnPropertyDescriptor"],[14,45,3,0],[14,46,3,0,"e"],[14,47,3,0],[14,49,3,0,"k"],[14,50,3,0],[15,6,3,0,"Object"],[15,12,3,0],[15,13,3,0,"defineProperty"],[15,27,3,0],[15,28,3,0,"n"],[15,29,3,0],[15,31,3,0,"k"],[15,32,3,0],[15,34,3,0,"d"],[15,35,3,0],[15,36,3,0,"get"],[15,39,3,0],[15,42,3,0,"d"],[15,43,3,0],[16,8,3,0,"enumerable"],[16,18,3,0],[17,8,3,0,"get"],[17,11,3,0],[17,22,3,0,"get"],[17,23,3,0],[18,10,3,0],[18,17,3,0,"e"],[18,18,3,0],[18,19,3,0,"k"],[18,20,3,0],[19,8,3,0],[20,6,3,0],[21,4,3,0],[22,4,3,0,"n"],[22,5,3,0],[22,6,3,0,"default"],[22,13,3,0],[22,16,3,0,"e"],[22,17,3,0],[23,4,3,0],[23,11,3,0,"n"],[23,12,3,0],[24,2,3,0],[25,2,47,0,"Object"],[25,8,47,0],[25,9,47,0,"defineProperty"],[25,23,47,0],[25,24,47,0,"exports"],[25,31,47,0],[26,4,47,0,"enumerable"],[26,14,47,0],[27,4,47,0,"get"],[27,7,47,0],[27,18,47,0,"get"],[27,19,47,0],[28,6,47,0],[28,13,48,2,"useIsMutating"],[28,26,48,15],[29,4,48,15],[30,2,48,15],[31,2,47,0,"Object"],[31,8,47,0],[31,9,47,0,"defineProperty"],[31,23,47,0],[31,24,47,0,"exports"],[31,31,47,0],[32,4,47,0,"enumerable"],[32,14,47,0],[33,4,47,0,"get"],[33,7,47,0],[33,18,47,0,"get"],[33,19,47,0],[34,6,47,0],[34,13,49,2,"useMutationState"],[34,29,49,18],[35,4,49,18],[36,2,49,18],[37,2,4,0],[37,6,4,0,"_react"],[37,12,4,0],[37,15,4,0,"require"],[37,22,4,0],[37,23,4,0,"_dependencyMap"],[37,37,4,0],[38,2,4,0],[38,6,4,0,"React"],[38,11,4,0],[38,14,4,0,"_interopNamespace"],[38,31,4,0],[38,32,4,0,"_react"],[38,38,4,0],[39,2,5,0],[39,6,5,0,"_tanstackQueryCore"],[39,24,5,0],[39,27,5,0,"require"],[39,34,5,0],[39,35,5,0,"_dependencyMap"],[39,49,5,0],[40,2,6,0],[40,6,6,0,"_QueryClientProviderJs"],[40,28,6,0],[40,31,6,0,"require"],[40,38,6,0],[40,39,6,0,"_dependencyMap"],[40,53,6,0],[41,2,7,0],[41,11,7,9,"useIsMutating"],[41,24,7,22,"useIsMutating"],[41,25,7,23,"filters"],[41,32,7,30],[41,34,7,32,"queryClient"],[41,45,7,43],[41,47,7,45],[42,4,8,2],[42,10,8,8,"client"],[42,16,8,14],[42,19,8,17],[42,23,8,17,"useQueryClient"],[42,45,8,31],[42,46,8,31,"useQueryClient"],[42,60,8,31],[42,62,8,32,"queryClient"],[42,73,8,43],[42,74,8,44],[43,4,9,2],[43,11,9,9,"useMutationState"],[43,27,9,25],[43,28,10,4],[44,6,10,6,"filters"],[44,13,10,13],[44,15,10,15],[45,8,10,17],[45,11,10,20,"filters"],[45,18,10,27],[46,8,10,29,"status"],[46,14,10,35],[46,16,10,37],[47,6,10,47],[48,4,10,49],[48,5,10,50],[48,7,11,4,"client"],[48,13,12,2],[48,14,12,3],[48,15,12,4,"length"],[48,21,12,10],[49,2,13,0],[50,2,14,0],[50,11,14,9,"getResult"],[50,20,14,18,"getResult"],[50,21,14,19,"mutationCache"],[50,34,14,32],[50,36,14,34,"options"],[50,43,14,41],[50,45,14,43],[51,4,15,2],[51,11,15,9,"mutationCache"],[51,24,15,22],[51,25,15,23,"findAll"],[51,32,15,30],[51,33,15,31,"options"],[51,40,15,38],[51,41,15,39,"filters"],[51,48,15,46],[51,49,15,47],[51,50,15,48,"map"],[51,53,15,51],[51,54,16,5,"mutation"],[51,62,16,13],[51,66,16,18,"options"],[51,73,16,25],[51,74,16,26,"select"],[51,80,16,32],[51,83,16,35,"options"],[51,90,16,42],[51,91,16,43,"select"],[51,97,16,49],[51,98,16,50,"mutation"],[51,106,16,58],[51,107,16,59],[51,110,16,62,"mutation"],[51,118,16,70],[51,119,16,71,"state"],[51,124,17,2],[51,125,17,3],[52,2,18,0],[53,2,19,0],[53,11,19,9,"useMutationState"],[53,27,19,25,"useMutationState"],[53,28,19,26,"options"],[53,35,19,33],[53,38,19,36],[53,39,19,37],[53,40,19,38],[53,42,19,40,"queryClient"],[53,53,19,51],[53,55,19,53],[54,4,20,2],[54,10,20,8,"mutationCache"],[54,23,20,21],[54,26,20,24],[54,30,20,24,"useQueryClient"],[54,52,20,38],[54,53,20,38,"useQueryClient"],[54,67,20,38],[54,69,20,39,"queryClient"],[54,80,20,50],[54,81,20,51],[54,82,20,52,"getMutationCache"],[54,98,20,68],[54,99,20,69],[54,100,20,70],[55,4,21,2],[55,10,21,8,"optionsRef"],[55,20,21,18],[55,23,21,21,"React"],[55,28,21,26],[55,29,21,27,"useRef"],[55,35,21,33],[55,36,21,34,"options"],[55,43,21,41],[55,44,21,42],[56,4,22,2],[56,10,22,8,"result"],[56,16,22,14],[56,19,22,17,"React"],[56,24,22,22],[56,25,22,23,"useRef"],[56,31,22,29],[56,32,22,30],[56,36,22,34],[56,37,22,35],[57,4,23,2],[57,8,23,6],[57,9,23,7,"result"],[57,15,23,13],[57,16,23,14,"current"],[57,23,23,21],[57,25,23,23],[58,6,24,4,"result"],[58,12,24,10],[58,13,24,11,"current"],[58,20,24,18],[58,23,24,21,"getResult"],[58,32,24,30],[58,33,24,31,"mutationCache"],[58,46,24,44],[58,48,24,46,"options"],[58,55,24,53],[58,56,24,54],[59,4,25,2],[60,4,26,2,"React"],[60,9,26,7],[60,10,26,8,"useEffect"],[60,19,26,17],[60,20,26,18],[60,26,26,24],[61,6,27,4,"optionsRef"],[61,16,27,14],[61,17,27,15,"current"],[61,24,27,22],[61,27,27,25,"options"],[61,34,27,32],[62,4,28,2],[62,5,28,3],[62,6,28,4],[63,4,29,2],[63,11,29,9,"React"],[63,16,29,14],[63,17,29,15,"useSyncExternalStore"],[63,37,29,35],[63,38,30,4,"React"],[63,43,30,9],[63,44,30,10,"useCallback"],[63,55,30,21],[63,56,31,7,"onStoreChange"],[63,69,31,20],[63,73,31,25,"mutationCache"],[63,86,31,38],[63,87,31,39,"subscribe"],[63,96,31,48],[63,97,31,49],[63,103,31,55],[64,6,32,8],[64,12,32,14,"nextResult"],[64,22,32,24],[64,25,32,27],[64,29,32,27,"replaceEqualDeep"],[64,47,32,43],[64,48,32,43,"replaceEqualDeep"],[64,64,32,43],[64,66,33,10,"result"],[64,72,33,16],[64,73,33,17,"current"],[64,80,33,24],[64,82,34,10,"getResult"],[64,91,34,19],[64,92,34,20,"mutationCache"],[64,105,34,33],[64,107,34,35,"optionsRef"],[64,117,34,45],[64,118,34,46,"current"],[64,125,34,53],[64,126,35,8],[64,127,35,9],[65,6,36,8],[65,10,36,12,"result"],[65,16,36,18],[65,17,36,19,"current"],[65,24,36,26],[65,29,36,31,"nextResult"],[65,39,36,41],[65,41,36,43],[66,8,37,10,"result"],[66,14,37,16],[66,15,37,17,"current"],[66,22,37,24],[66,25,37,27,"nextResult"],[66,35,37,37],[67,8,38,10,"notifyManager"],[67,26,38,23],[67,27,38,23,"notifyManager"],[67,40,38,23],[67,41,38,24,"schedule"],[67,49,38,32],[67,50,38,33,"onStoreChange"],[67,63,38,46],[67,64,38,47],[68,6,39,8],[69,4,40,6],[69,5,40,7],[69,6,40,8],[69,8,41,6],[69,9,41,7,"mutationCache"],[69,22,41,20],[69,23,42,4],[69,24,42,5],[69,26,43,4],[69,32,43,10,"result"],[69,38,43,16],[69,39,43,17,"current"],[69,46,43,24],[69,48,44,4],[69,54,44,10,"result"],[69,60,44,16],[69,61,44,17,"current"],[69,68,45,2],[69,69,45,3],[70,2,46,0],[71,0,46,1],[71,3]],"functionMap":{"names":["<global>","useIsMutating","getResult","mutationCache.findAll.map$argument_0","useMutationState","React.useEffect$argument_0","React.useSyncExternalStore$argument_0","mutationCache.subscribe$argument_0","React.useSyncExternalStore$argument_1","React.useSyncExternalStore$argument_2"],"mappings":"AAA;ACM;CDM;AEC;ICE,wED;CFE;AIC;kBCO;GDE;MEG,2CC;ODS,CF;IIG,oBJ;IKC,oBL;CJE"},"hasCjsExports":false},"type":"js/module"}]}