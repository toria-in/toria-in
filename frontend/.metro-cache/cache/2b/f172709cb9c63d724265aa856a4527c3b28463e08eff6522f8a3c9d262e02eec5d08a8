{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":44},"end":{"line":4,"column":31,"index":75}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/query-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":76},"end":{"line":5,"column":47,"index":123}}],"key":"GAsr4MDTe9ve1mRxgvML4iY2BZg=","exportNames":["*"],"imports":1}},{"name":"./QueryClientProvider.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":124},"end":{"line":6,"column":58,"index":182}}],"key":"R2Cn87b3k6V9pZdY+hWd8Ft8C58=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use client\";\n\n  // src/HydrationBoundary.tsx\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"HydrationBoundary\", {\n    enumerable: true,\n    get: function () {\n      return HydrationBoundary;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _tanstackQueryCore = require(_dependencyMap[1], \"@tanstack/query-core\");\n  var _QueryClientProviderJs = require(_dependencyMap[2], \"./QueryClientProvider.js\");\n  var HydrationBoundary = ({\n    children,\n    options = {},\n    state,\n    queryClient\n  }) => {\n    const client = (0, _QueryClientProviderJs.useQueryClient)(queryClient);\n    const optionsRef = React.useRef(options);\n    optionsRef.current = options;\n    const hydrationQueue = React.useMemo(() => {\n      if (state) {\n        if (typeof state !== \"object\") {\n          return;\n        }\n        const queryCache = client.getQueryCache();\n        const queries = state.queries || [];\n        const newQueries = [];\n        const existingQueries = [];\n        for (const dehydratedQuery of queries) {\n          const existingQuery = queryCache.get(dehydratedQuery.queryHash);\n          if (!existingQuery) {\n            newQueries.push(dehydratedQuery);\n          } else {\n            const hydrationIsNewer = dehydratedQuery.state.dataUpdatedAt > existingQuery.state.dataUpdatedAt || dehydratedQuery.promise && existingQuery.state.status !== \"pending\" && existingQuery.state.fetchStatus !== \"fetching\" && dehydratedQuery.dehydratedAt !== void 0 && dehydratedQuery.dehydratedAt > existingQuery.state.dataUpdatedAt;\n            if (hydrationIsNewer) {\n              existingQueries.push(dehydratedQuery);\n            }\n          }\n        }\n        if (newQueries.length > 0) {\n          (0, _tanstackQueryCore.hydrate)(client, {\n            queries: newQueries\n          }, optionsRef.current);\n        }\n        if (existingQueries.length > 0) {\n          return existingQueries;\n        }\n      }\n      return void 0;\n    }, [client, state]);\n    React.useEffect(() => {\n      if (hydrationQueue) {\n        (0, _tanstackQueryCore.hydrate)(client, {\n          queries: hydrationQueue\n        }, optionsRef.current);\n      }\n    }, [client, hydrationQueue]);\n    return children;\n  };\n});","lineCount":84,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[5,2,3,0],[7,2,3,0,"Object"],[7,8,3,0],[7,9,3,0,"defineProperty"],[7,23,3,0],[7,24,3,0,"exports"],[7,31,3,0],[8,4,3,0,"value"],[8,9,3,0],[9,2,3,0],[10,2,3,0],[10,11,3,0,"_interopNamespace"],[10,29,3,0,"e"],[10,30,3,0],[11,4,3,0],[11,8,3,0,"e"],[11,9,3,0],[11,13,3,0,"e"],[11,14,3,0],[11,15,3,0,"__esModule"],[11,25,3,0],[11,34,3,0,"e"],[11,35,3,0],[12,4,3,0],[12,8,3,0,"n"],[12,9,3,0],[13,4,3,0],[13,8,3,0,"e"],[13,9,3,0],[13,11,3,0,"Object"],[13,17,3,0],[13,18,3,0,"keys"],[13,22,3,0],[13,23,3,0,"e"],[13,24,3,0],[13,26,3,0,"forEach"],[13,33,3,0],[13,44,3,0,"k"],[13,45,3,0],[14,6,3,0],[14,10,3,0,"d"],[14,11,3,0],[14,14,3,0,"Object"],[14,20,3,0],[14,21,3,0,"getOwnPropertyDescriptor"],[14,45,3,0],[14,46,3,0,"e"],[14,47,3,0],[14,49,3,0,"k"],[14,50,3,0],[15,6,3,0,"Object"],[15,12,3,0],[15,13,3,0,"defineProperty"],[15,27,3,0],[15,28,3,0,"n"],[15,29,3,0],[15,31,3,0,"k"],[15,32,3,0],[15,34,3,0,"d"],[15,35,3,0],[15,36,3,0,"get"],[15,39,3,0],[15,42,3,0,"d"],[15,43,3,0],[16,8,3,0,"enumerable"],[16,18,3,0],[17,8,3,0,"get"],[17,11,3,0],[17,22,3,0,"get"],[17,23,3,0],[18,10,3,0],[18,17,3,0,"e"],[18,18,3,0],[18,19,3,0,"k"],[18,20,3,0],[19,8,3,0],[20,6,3,0],[21,4,3,0],[22,4,3,0,"n"],[22,5,3,0],[22,6,3,0,"default"],[22,13,3,0],[22,16,3,0,"e"],[22,17,3,0],[23,4,3,0],[23,11,3,0,"n"],[23,12,3,0],[24,2,3,0],[25,2,52,0,"Object"],[25,8,52,0],[25,9,52,0,"defineProperty"],[25,23,52,0],[25,24,52,0,"exports"],[25,31,52,0],[26,4,52,0,"enumerable"],[26,14,52,0],[27,4,52,0,"get"],[27,7,52,0],[27,18,52,0,"get"],[27,19,52,0],[28,6,52,0],[28,13,53,2,"HydrationBoundary"],[28,30,53,19],[29,4,53,19],[30,2,53,19],[31,2,4,0],[31,6,4,0,"_react"],[31,12,4,0],[31,15,4,0,"require"],[31,22,4,0],[31,23,4,0,"_dependencyMap"],[31,37,4,0],[32,2,4,0],[32,6,4,0,"React"],[32,11,4,0],[32,14,4,0,"_interopNamespace"],[32,31,4,0],[32,32,4,0,"_react"],[32,38,4,0],[33,2,5,0],[33,6,5,0,"_tanstackQueryCore"],[33,24,5,0],[33,27,5,0,"require"],[33,34,5,0],[33,35,5,0,"_dependencyMap"],[33,49,5,0],[34,2,6,0],[34,6,6,0,"_QueryClientProviderJs"],[34,28,6,0],[34,31,6,0,"require"],[34,38,6,0],[34,39,6,0,"_dependencyMap"],[34,53,6,0],[35,2,7,0],[35,6,7,4,"HydrationBoundary"],[35,23,7,21],[35,26,7,24,"HydrationBoundary"],[35,27,7,25],[36,4,8,2,"children"],[36,12,8,10],[37,4,9,2,"options"],[37,11,9,9],[37,14,9,12],[37,15,9,13],[37,16,9,14],[38,4,10,2,"state"],[38,9,10,7],[39,4,11,2,"queryClient"],[40,2,12,0],[40,3,12,1],[40,8,12,6],[41,4,13,2],[41,10,13,8,"client"],[41,16,13,14],[41,19,13,17],[41,23,13,17,"useQueryClient"],[41,45,13,31],[41,46,13,31,"useQueryClient"],[41,60,13,31],[41,62,13,32,"queryClient"],[41,73,13,43],[41,74,13,44],[42,4,14,2],[42,10,14,8,"optionsRef"],[42,20,14,18],[42,23,14,21,"React"],[42,28,14,26],[42,29,14,27,"useRef"],[42,35,14,33],[42,36,14,34,"options"],[42,43,14,41],[42,44,14,42],[43,4,15,2,"optionsRef"],[43,14,15,12],[43,15,15,13,"current"],[43,22,15,20],[43,25,15,23,"options"],[43,32,15,30],[44,4,16,2],[44,10,16,8,"hydrationQueue"],[44,24,16,22],[44,27,16,25,"React"],[44,32,16,30],[44,33,16,31,"useMemo"],[44,40,16,38],[44,41,16,39],[44,47,16,45],[45,6,17,4],[45,10,17,8,"state"],[45,15,17,13],[45,17,17,15],[46,8,18,6],[46,12,18,10],[46,19,18,17,"state"],[46,24,18,22],[46,29,18,27],[46,37,18,35],[46,39,18,37],[47,10,19,8],[48,8,20,6],[49,8,21,6],[49,14,21,12,"queryCache"],[49,24,21,22],[49,27,21,25,"client"],[49,33,21,31],[49,34,21,32,"getQueryCache"],[49,47,21,45],[49,48,21,46],[49,49,21,47],[50,8,22,6],[50,14,22,12,"queries"],[50,21,22,19],[50,24,22,22,"state"],[50,29,22,27],[50,30,22,28,"queries"],[50,37,22,35],[50,41,22,39],[50,43,22,41],[51,8,23,6],[51,14,23,12,"newQueries"],[51,24,23,22],[51,27,23,25],[51,29,23,27],[52,8,24,6],[52,14,24,12,"existingQueries"],[52,29,24,27],[52,32,24,30],[52,34,24,32],[53,8,25,6],[53,13,25,11],[53,19,25,17,"dehydratedQuery"],[53,34,25,32],[53,38,25,36,"queries"],[53,45,25,43],[53,47,25,45],[54,10,26,8],[54,16,26,14,"existingQuery"],[54,29,26,27],[54,32,26,30,"queryCache"],[54,42,26,40],[54,43,26,41,"get"],[54,46,26,44],[54,47,26,45,"dehydratedQuery"],[54,62,26,60],[54,63,26,61,"queryHash"],[54,72,26,70],[54,73,26,71],[55,10,27,8],[55,14,27,12],[55,15,27,13,"existingQuery"],[55,28,27,26],[55,30,27,28],[56,12,28,10,"newQueries"],[56,22,28,20],[56,23,28,21,"push"],[56,27,28,25],[56,28,28,26,"dehydratedQuery"],[56,43,28,41],[56,44,28,42],[57,10,29,8],[57,11,29,9],[57,17,29,15],[58,12,30,10],[58,18,30,16,"hydrationIsNewer"],[58,34,30,32],[58,37,30,35,"dehydratedQuery"],[58,52,30,50],[58,53,30,51,"state"],[58,58,30,56],[58,59,30,57,"dataUpdatedAt"],[58,72,30,70],[58,75,30,73,"existingQuery"],[58,88,30,86],[58,89,30,87,"state"],[58,94,30,92],[58,95,30,93,"dataUpdatedAt"],[58,108,30,106],[58,112,30,110,"dehydratedQuery"],[58,127,30,125],[58,128,30,126,"promise"],[58,135,30,133],[58,139,30,137,"existingQuery"],[58,152,30,150],[58,153,30,151,"state"],[58,158,30,156],[58,159,30,157,"status"],[58,165,30,163],[58,170,30,168],[58,179,30,177],[58,183,30,181,"existingQuery"],[58,196,30,194],[58,197,30,195,"state"],[58,202,30,200],[58,203,30,201,"fetchStatus"],[58,214,30,212],[58,219,30,217],[58,229,30,227],[58,233,30,231,"dehydratedQuery"],[58,248,30,246],[58,249,30,247,"dehydratedAt"],[58,261,30,259],[58,266,30,264],[58,271,30,269],[58,272,30,270],[58,276,30,274,"dehydratedQuery"],[58,291,30,289],[58,292,30,290,"dehydratedAt"],[58,304,30,302],[58,307,30,305,"existingQuery"],[58,320,30,318],[58,321,30,319,"state"],[58,326,30,324],[58,327,30,325,"dataUpdatedAt"],[58,340,30,338],[59,12,31,10],[59,16,31,14,"hydrationIsNewer"],[59,32,31,30],[59,34,31,32],[60,14,32,12,"existingQueries"],[60,29,32,27],[60,30,32,28,"push"],[60,34,32,32],[60,35,32,33,"dehydratedQuery"],[60,50,32,48],[60,51,32,49],[61,12,33,10],[62,10,34,8],[63,8,35,6],[64,8,36,6],[64,12,36,10,"newQueries"],[64,22,36,20],[64,23,36,21,"length"],[64,29,36,27],[64,32,36,30],[64,33,36,31],[64,35,36,33],[65,10,37,8],[65,14,37,8,"hydrate"],[65,32,37,15],[65,33,37,15,"hydrate"],[65,40,37,15],[65,42,37,16,"client"],[65,48,37,22],[65,50,37,24],[66,12,37,26,"queries"],[66,19,37,33],[66,21,37,35,"newQueries"],[67,10,37,46],[67,11,37,47],[67,13,37,49,"optionsRef"],[67,23,37,59],[67,24,37,60,"current"],[67,31,37,67],[67,32,37,68],[68,8,38,6],[69,8,39,6],[69,12,39,10,"existingQueries"],[69,27,39,25],[69,28,39,26,"length"],[69,34,39,32],[69,37,39,35],[69,38,39,36],[69,40,39,38],[70,10,40,8],[70,17,40,15,"existingQueries"],[70,32,40,30],[71,8,41,6],[72,6,42,4],[73,6,43,4],[73,13,43,11],[73,18,43,16],[73,19,43,17],[74,4,44,2],[74,5,44,3],[74,7,44,5],[74,8,44,6,"client"],[74,14,44,12],[74,16,44,14,"state"],[74,21,44,19],[74,22,44,20],[74,23,44,21],[75,4,45,2,"React"],[75,9,45,7],[75,10,45,8,"useEffect"],[75,19,45,17],[75,20,45,18],[75,26,45,24],[76,6,46,4],[76,10,46,8,"hydrationQueue"],[76,24,46,22],[76,26,46,24],[77,8,47,6],[77,12,47,6,"hydrate"],[77,30,47,13],[77,31,47,13,"hydrate"],[77,38,47,13],[77,40,47,14,"client"],[77,46,47,20],[77,48,47,22],[78,10,47,24,"queries"],[78,17,47,31],[78,19,47,33,"hydrationQueue"],[79,8,47,48],[79,9,47,49],[79,11,47,51,"optionsRef"],[79,21,47,61],[79,22,47,62,"current"],[79,29,47,69],[79,30,47,70],[80,6,48,4],[81,4,49,2],[81,5,49,3],[81,7,49,5],[81,8,49,6,"client"],[81,14,49,12],[81,16,49,14,"hydrationQueue"],[81,30,49,28],[81,31,49,29],[81,32,49,30],[82,4,50,2],[82,11,50,9,"children"],[82,19,50,17],[83,2,51,0],[83,3,51,1],[84,0,51,2],[84,3]],"functionMap":{"names":["<global>","HydrationBoundary","React.useMemo$argument_0","React.useEffect$argument_0"],"mappings":"AAA;wBCM;uCCS;GD4B;kBEC;GFI;CDE"},"hasCjsExports":false},"type":"js/module"}]}