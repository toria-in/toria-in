{"dependencies":[{"name":"./queryObserver.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":51,"index":83}}],"key":"T5bdga4o8lhxjwmnTyuBuLPduVg=","exportNames":["*"],"imports":1}},{"name":"./infiniteQueryBehavior.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":7,"column":36,"index":187}}],"key":"Dj+TcYB7Bmtxbfu2mfnKFBaMfIM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"InfiniteQueryObserver\", {\n    enumerable: true,\n    get: function () {\n      return InfiniteQueryObserver;\n    }\n  });\n  var _queryObserverJs = require(_dependencyMap[0], \"./queryObserver.js\");\n  var _infiniteQueryBehaviorJs = require(_dependencyMap[1], \"./infiniteQueryBehavior.js\");\n  // src/infiniteQueryObserver.ts\n\n  var InfiniteQueryObserver = class extends _queryObserverJs.QueryObserver {\n    constructor(client, options) {\n      super(client, options);\n    }\n    bindMethods() {\n      super.bindMethods();\n      this.fetchNextPage = this.fetchNextPage.bind(this);\n      this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\n    }\n    setOptions(options) {\n      super.setOptions({\n        ...options,\n        behavior: (0, _infiniteQueryBehaviorJs.infiniteQueryBehavior)()\n      });\n    }\n    getOptimisticResult(options) {\n      options.behavior = (0, _infiniteQueryBehaviorJs.infiniteQueryBehavior)();\n      return super.getOptimisticResult(options);\n    }\n    fetchNextPage(options) {\n      return this.fetch({\n        ...options,\n        meta: {\n          fetchMore: {\n            direction: \"forward\"\n          }\n        }\n      });\n    }\n    fetchPreviousPage(options) {\n      return this.fetch({\n        ...options,\n        meta: {\n          fetchMore: {\n            direction: \"backward\"\n          }\n        }\n      });\n    }\n    createResult(query, options) {\n      const {\n        state\n      } = query;\n      const parentResult = super.createResult(query, options);\n      const {\n        isFetching,\n        isRefetching,\n        isError,\n        isRefetchError\n      } = parentResult;\n      const fetchDirection = state.fetchMeta?.fetchMore?.direction;\n      const isFetchNextPageError = isError && fetchDirection === \"forward\";\n      const isFetchingNextPage = isFetching && fetchDirection === \"forward\";\n      const isFetchPreviousPageError = isError && fetchDirection === \"backward\";\n      const isFetchingPreviousPage = isFetching && fetchDirection === \"backward\";\n      const result = {\n        ...parentResult,\n        fetchNextPage: this.fetchNextPage,\n        fetchPreviousPage: this.fetchPreviousPage,\n        hasNextPage: (0, _infiniteQueryBehaviorJs.hasNextPage)(options, state.data),\n        hasPreviousPage: (0, _infiniteQueryBehaviorJs.hasPreviousPage)(options, state.data),\n        isFetchNextPageError,\n        isFetchingNextPage,\n        isFetchPreviousPageError,\n        isFetchingPreviousPage,\n        isRefetchError: isRefetchError && !isFetchNextPageError && !isFetchPreviousPageError,\n        isRefetching: isRefetching && !isFetchingNextPage && !isFetchingPreviousPage\n      };\n      return result;\n    }\n  };\n});","lineCount":88,"map":[[7,2,68,0,"Object"],[7,8,68,0],[7,9,68,0,"defineProperty"],[7,23,68,0],[7,24,68,0,"exports"],[7,31,68,0],[8,4,68,0,"enumerable"],[8,14,68,0],[9,4,68,0,"get"],[9,7,68,0],[9,18,68,0,"get"],[9,19,68,0],[10,6,68,0],[10,13,69,2,"InfiniteQueryObserver"],[10,34,69,23],[11,4,69,23],[12,2,69,23],[13,2,2,0],[13,6,2,0,"_queryObserverJs"],[13,22,2,0],[13,25,2,0,"require"],[13,32,2,0],[13,33,2,0,"_dependencyMap"],[13,47,2,0],[14,2,3,0],[14,6,3,0,"_infiniteQueryBehaviorJs"],[14,30,3,0],[14,33,3,0,"require"],[14,40,3,0],[14,41,3,0,"_dependencyMap"],[14,55,3,0],[15,2,1,0],[17,2,8,0],[17,6,8,4,"InfiniteQueryObserver"],[17,27,8,25],[17,30,8,28],[17,44,8,42,"QueryObserver"],[17,60,8,55],[17,61,8,55,"QueryObserver"],[17,74,8,55],[17,75,8,56],[18,4,9,2,"constructor"],[18,15,9,13,"constructor"],[18,16,9,14,"client"],[18,22,9,20],[18,24,9,22,"options"],[18,31,9,29],[18,33,9,31],[19,6,10,4],[19,11,10,9],[19,12,10,10,"client"],[19,18,10,16],[19,20,10,18,"options"],[19,27,10,25],[19,28,10,26],[20,4,11,2],[21,4,12,2,"bindMethods"],[21,15,12,13,"bindMethods"],[21,16,12,13],[21,18,12,16],[22,6,13,4],[22,11,13,9],[22,12,13,10,"bindMethods"],[22,23,13,21],[22,24,13,22],[22,25,13,23],[23,6,14,4],[23,10,14,8],[23,11,14,9,"fetchNextPage"],[23,24,14,22],[23,27,14,25],[23,31,14,29],[23,32,14,30,"fetchNextPage"],[23,45,14,43],[23,46,14,44,"bind"],[23,50,14,48],[23,51,14,49],[23,55,14,53],[23,56,14,54],[24,6,15,4],[24,10,15,8],[24,11,15,9,"fetchPreviousPage"],[24,28,15,26],[24,31,15,29],[24,35,15,33],[24,36,15,34,"fetchPreviousPage"],[24,53,15,51],[24,54,15,52,"bind"],[24,58,15,56],[24,59,15,57],[24,63,15,61],[24,64,15,62],[25,4,16,2],[26,4,17,2,"setOptions"],[26,14,17,12,"setOptions"],[26,15,17,13,"options"],[26,22,17,20],[26,24,17,22],[27,6,18,4],[27,11,18,9],[27,12,18,10,"setOptions"],[27,22,18,20],[27,23,18,21],[28,8,19,6],[28,11,19,9,"options"],[28,18,19,16],[29,8,20,6,"behavior"],[29,16,20,14],[29,18,20,16],[29,22,20,16,"infiniteQueryBehavior"],[29,46,20,37],[29,47,20,37,"infiniteQueryBehavior"],[29,68,20,37],[29,70,20,38],[30,6,21,4],[30,7,21,5],[30,8,21,6],[31,4,22,2],[32,4,23,2,"getOptimisticResult"],[32,23,23,21,"getOptimisticResult"],[32,24,23,22,"options"],[32,31,23,29],[32,33,23,31],[33,6,24,4,"options"],[33,13,24,11],[33,14,24,12,"behavior"],[33,22,24,20],[33,25,24,23],[33,29,24,23,"infiniteQueryBehavior"],[33,53,24,44],[33,54,24,44,"infiniteQueryBehavior"],[33,75,24,44],[33,77,24,45],[33,78,24,46],[34,6,25,4],[34,13,25,11],[34,18,25,16],[34,19,25,17,"getOptimisticResult"],[34,38,25,36],[34,39,25,37,"options"],[34,46,25,44],[34,47,25,45],[35,4,26,2],[36,4,27,2,"fetchNextPage"],[36,17,27,15,"fetchNextPage"],[36,18,27,16,"options"],[36,25,27,23],[36,27,27,25],[37,6,28,4],[37,13,28,11],[37,17,28,15],[37,18,28,16,"fetch"],[37,23,28,21],[37,24,28,22],[38,8,29,6],[38,11,29,9,"options"],[38,18,29,16],[39,8,30,6,"meta"],[39,12,30,10],[39,14,30,12],[40,10,31,8,"fetchMore"],[40,19,31,17],[40,21,31,19],[41,12,31,21,"direction"],[41,21,31,30],[41,23,31,32],[42,10,31,42],[43,8,32,6],[44,6,33,4],[44,7,33,5],[44,8,33,6],[45,4,34,2],[46,4,35,2,"fetchPreviousPage"],[46,21,35,19,"fetchPreviousPage"],[46,22,35,20,"options"],[46,29,35,27],[46,31,35,29],[47,6,36,4],[47,13,36,11],[47,17,36,15],[47,18,36,16,"fetch"],[47,23,36,21],[47,24,36,22],[48,8,37,6],[48,11,37,9,"options"],[48,18,37,16],[49,8,38,6,"meta"],[49,12,38,10],[49,14,38,12],[50,10,39,8,"fetchMore"],[50,19,39,17],[50,21,39,19],[51,12,39,21,"direction"],[51,21,39,30],[51,23,39,32],[52,10,39,43],[53,8,40,6],[54,6,41,4],[54,7,41,5],[54,8,41,6],[55,4,42,2],[56,4,43,2,"createResult"],[56,16,43,14,"createResult"],[56,17,43,15,"query"],[56,22,43,20],[56,24,43,22,"options"],[56,31,43,29],[56,33,43,31],[57,6,44,4],[57,12,44,10],[58,8,44,12,"state"],[59,6,44,18],[59,7,44,19],[59,10,44,22,"query"],[59,15,44,27],[60,6,45,4],[60,12,45,10,"parentResult"],[60,24,45,22],[60,27,45,25],[60,32,45,30],[60,33,45,31,"createResult"],[60,45,45,43],[60,46,45,44,"query"],[60,51,45,49],[60,53,45,51,"options"],[60,60,45,58],[60,61,45,59],[61,6,46,4],[61,12,46,10],[62,8,46,12,"isFetching"],[62,18,46,22],[63,8,46,24,"isRefetching"],[63,20,46,36],[64,8,46,38,"isError"],[64,15,46,45],[65,8,46,47,"isRefetchError"],[66,6,46,62],[66,7,46,63],[66,10,46,66,"parentResult"],[66,22,46,78],[67,6,47,4],[67,12,47,10,"fetchDirection"],[67,26,47,24],[67,29,47,27,"state"],[67,34,47,32],[67,35,47,33,"fetchMeta"],[67,44,47,42],[67,46,47,44,"fetchMore"],[67,55,47,53],[67,57,47,55,"direction"],[67,66,47,64],[68,6,48,4],[68,12,48,10,"isFetchNextPageError"],[68,32,48,30],[68,35,48,33,"isError"],[68,42,48,40],[68,46,48,44,"fetchDirection"],[68,60,48,58],[68,65,48,63],[68,74,48,72],[69,6,49,4],[69,12,49,10,"isFetchingNextPage"],[69,30,49,28],[69,33,49,31,"isFetching"],[69,43,49,41],[69,47,49,45,"fetchDirection"],[69,61,49,59],[69,66,49,64],[69,75,49,73],[70,6,50,4],[70,12,50,10,"isFetchPreviousPageError"],[70,36,50,34],[70,39,50,37,"isError"],[70,46,50,44],[70,50,50,48,"fetchDirection"],[70,64,50,62],[70,69,50,67],[70,79,50,77],[71,6,51,4],[71,12,51,10,"isFetchingPreviousPage"],[71,34,51,32],[71,37,51,35,"isFetching"],[71,47,51,45],[71,51,51,49,"fetchDirection"],[71,65,51,63],[71,70,51,68],[71,80,51,78],[72,6,52,4],[72,12,52,10,"result"],[72,18,52,16],[72,21,52,19],[73,8,53,6],[73,11,53,9,"parentResult"],[73,23,53,21],[74,8,54,6,"fetchNextPage"],[74,21,54,19],[74,23,54,21],[74,27,54,25],[74,28,54,26,"fetchNextPage"],[74,41,54,39],[75,8,55,6,"fetchPreviousPage"],[75,25,55,23],[75,27,55,25],[75,31,55,29],[75,32,55,30,"fetchPreviousPage"],[75,49,55,47],[76,8,56,6,"hasNextPage"],[76,19,56,17],[76,21,56,19],[76,25,56,19,"hasNextPage"],[76,49,56,30],[76,50,56,30,"hasNextPage"],[76,61,56,30],[76,63,56,31,"options"],[76,70,56,38],[76,72,56,40,"state"],[76,77,56,45],[76,78,56,46,"data"],[76,82,56,50],[76,83,56,51],[77,8,57,6,"hasPreviousPage"],[77,23,57,21],[77,25,57,23],[77,29,57,23,"hasPreviousPage"],[77,53,57,38],[77,54,57,38,"hasPreviousPage"],[77,69,57,38],[77,71,57,39,"options"],[77,78,57,46],[77,80,57,48,"state"],[77,85,57,53],[77,86,57,54,"data"],[77,90,57,58],[77,91,57,59],[78,8,58,6,"isFetchNextPageError"],[78,28,58,26],[79,8,59,6,"isFetchingNextPage"],[79,26,59,24],[80,8,60,6,"isFetchPreviousPageError"],[80,32,60,30],[81,8,61,6,"isFetchingPreviousPage"],[81,30,61,28],[82,8,62,6,"isRefetchError"],[82,22,62,20],[82,24,62,22,"isRefetchError"],[82,38,62,36],[82,42,62,40],[82,43,62,41,"isFetchNextPageError"],[82,63,62,61],[82,67,62,65],[82,68,62,66,"isFetchPreviousPageError"],[82,92,62,90],[83,8,63,6,"isRefetching"],[83,20,63,18],[83,22,63,20,"isRefetching"],[83,34,63,32],[83,38,63,36],[83,39,63,37,"isFetchingNextPage"],[83,57,63,55],[83,61,63,59],[83,62,63,60,"isFetchingPreviousPage"],[84,6,64,4],[84,7,64,5],[85,6,65,4],[85,13,65,11,"result"],[85,19,65,17],[86,4,66,2],[87,2,67,0],[87,3,67,1],[88,0,67,2],[88,3]],"functionMap":{"names":["<global>","InfiniteQueryObserver","InfiniteQueryObserver#constructor","InfiniteQueryObserver#bindMethods","InfiniteQueryObserver#setOptions","InfiniteQueryObserver#getOptimisticResult","InfiniteQueryObserver#fetchNextPage","InfiniteQueryObserver#fetchPreviousPage","InfiniteQueryObserver#createResult"],"mappings":"AAA;4BCO;ECC;GDE;EEC;GFI;EGC;GHK;EIC;GJG;EKC;GLO;EMC;GNO;EOC;GPuB;CDC"},"hasCjsExports":false},"type":"js/module"}]}