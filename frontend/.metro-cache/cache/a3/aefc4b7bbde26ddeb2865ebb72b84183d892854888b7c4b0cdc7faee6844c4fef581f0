{"dependencies":[{"name":"./queryObserver.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":51,"index":83}}],"key":"T5bdga4o8lhxjwmnTyuBuLPduVg=","exportNames":["*"],"imports":1}},{"name":"./infiniteQueryBehavior.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":7,"column":36,"index":187}}],"key":"Dj+TcYB7Bmtxbfu2mfnKFBaMfIM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"InfiniteQueryObserver\", {\n    enumerable: true,\n    get: function () {\n      return InfiniteQueryObserver;\n    }\n  });\n  var _queryObserverJs = require(_dependencyMap[0], \"./queryObserver.js\");\n  var _infiniteQueryBehaviorJs = require(_dependencyMap[1], \"./infiniteQueryBehavior.js\");\n  // src/infiniteQueryObserver.ts\n\n  var InfiniteQueryObserver = class extends _queryObserverJs.QueryObserver {\n    constructor(client, options) {\n      super(client, options);\n    }\n    bindMethods() {\n      super.bindMethods();\n      this.fetchNextPage = this.fetchNextPage.bind(this);\n      this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\n    }\n    setOptions(options) {\n      super.setOptions(Object.assign({}, options, {\n        behavior: (0, _infiniteQueryBehaviorJs.infiniteQueryBehavior)()\n      }));\n    }\n    getOptimisticResult(options) {\n      options.behavior = (0, _infiniteQueryBehaviorJs.infiniteQueryBehavior)();\n      return super.getOptimisticResult(options);\n    }\n    fetchNextPage(options) {\n      return this.fetch(Object.assign({}, options, {\n        meta: {\n          fetchMore: {\n            direction: \"forward\"\n          }\n        }\n      }));\n    }\n    fetchPreviousPage(options) {\n      return this.fetch(Object.assign({}, options, {\n        meta: {\n          fetchMore: {\n            direction: \"backward\"\n          }\n        }\n      }));\n    }\n    createResult(query, options) {\n      const {\n        state\n      } = query;\n      const parentResult = super.createResult(query, options);\n      const {\n        isFetching,\n        isRefetching,\n        isError,\n        isRefetchError\n      } = parentResult;\n      const fetchDirection = state.fetchMeta?.fetchMore?.direction;\n      const isFetchNextPageError = isError && fetchDirection === \"forward\";\n      const isFetchingNextPage = isFetching && fetchDirection === \"forward\";\n      const isFetchPreviousPageError = isError && fetchDirection === \"backward\";\n      const isFetchingPreviousPage = isFetching && fetchDirection === \"backward\";\n      const result = Object.assign({}, parentResult, {\n        fetchNextPage: this.fetchNextPage,\n        fetchPreviousPage: this.fetchPreviousPage,\n        hasNextPage: (0, _infiniteQueryBehaviorJs.hasNextPage)(options, state.data),\n        hasPreviousPage: (0, _infiniteQueryBehaviorJs.hasPreviousPage)(options, state.data),\n        isFetchNextPageError,\n        isFetchingNextPage,\n        isFetchPreviousPageError,\n        isFetchingPreviousPage,\n        isRefetchError: isRefetchError && !isFetchNextPageError && !isFetchPreviousPageError,\n        isRefetching: isRefetching && !isFetchingNextPage && !isFetchingPreviousPage\n      });\n      return result;\n    }\n  };\n});","lineCount":84,"map":[[7,2,68,0,"Object"],[7,8,68,0],[7,9,68,0,"defineProperty"],[7,23,68,0],[7,24,68,0,"exports"],[7,31,68,0],[8,4,68,0,"enumerable"],[8,14,68,0],[9,4,68,0,"get"],[9,7,68,0],[9,18,68,0,"get"],[9,19,68,0],[10,6,68,0],[10,13,69,2,"InfiniteQueryObserver"],[10,34,69,23],[11,4,69,23],[12,2,69,23],[13,2,2,0],[13,6,2,0,"_queryObserverJs"],[13,22,2,0],[13,25,2,0,"require"],[13,32,2,0],[13,33,2,0,"_dependencyMap"],[13,47,2,0],[14,2,3,0],[14,6,3,0,"_infiniteQueryBehaviorJs"],[14,30,3,0],[14,33,3,0,"require"],[14,40,3,0],[14,41,3,0,"_dependencyMap"],[14,55,3,0],[15,2,1,0],[17,2,8,0],[17,6,8,4,"InfiniteQueryObserver"],[17,27,8,25],[17,30,8,28],[17,44,8,42,"QueryObserver"],[17,60,8,55],[17,61,8,55,"QueryObserver"],[17,74,8,55],[17,75,8,56],[18,4,9,2,"constructor"],[18,15,9,13,"constructor"],[18,16,9,14,"client"],[18,22,9,20],[18,24,9,22,"options"],[18,31,9,29],[18,33,9,31],[19,6,10,4],[19,11,10,9],[19,12,10,10,"client"],[19,18,10,16],[19,20,10,18,"options"],[19,27,10,25],[19,28,10,26],[20,4,11,2],[21,4,12,2,"bindMethods"],[21,15,12,13,"bindMethods"],[21,16,12,13],[21,18,12,16],[22,6,13,4],[22,11,13,9],[22,12,13,10,"bindMethods"],[22,23,13,21],[22,24,13,22],[22,25,13,23],[23,6,14,4],[23,10,14,8],[23,11,14,9,"fetchNextPage"],[23,24,14,22],[23,27,14,25],[23,31,14,29],[23,32,14,30,"fetchNextPage"],[23,45,14,43],[23,46,14,44,"bind"],[23,50,14,48],[23,51,14,49],[23,55,14,53],[23,56,14,54],[24,6,15,4],[24,10,15,8],[24,11,15,9,"fetchPreviousPage"],[24,28,15,26],[24,31,15,29],[24,35,15,33],[24,36,15,34,"fetchPreviousPage"],[24,53,15,51],[24,54,15,52,"bind"],[24,58,15,56],[24,59,15,57],[24,63,15,61],[24,64,15,62],[25,4,16,2],[26,4,17,2,"setOptions"],[26,14,17,12,"setOptions"],[26,15,17,13,"options"],[26,22,17,20],[26,24,17,22],[27,6,18,4],[27,11,18,9],[27,12,18,10,"setOptions"],[27,22,18,20],[27,23,18,20,"Object"],[27,29,18,20],[27,30,18,20,"assign"],[27,36,18,20],[27,41,19,9,"options"],[27,48,19,16],[28,8,20,6,"behavior"],[28,16,20,14],[28,18,20,16],[28,22,20,16,"infiniteQueryBehavior"],[28,46,20,37],[28,47,20,37,"infiniteQueryBehavior"],[28,68,20,37],[28,70,20,38],[29,6,20,39],[29,8,21,5],[29,9,21,6],[30,4,22,2],[31,4,23,2,"getOptimisticResult"],[31,23,23,21,"getOptimisticResult"],[31,24,23,22,"options"],[31,31,23,29],[31,33,23,31],[32,6,24,4,"options"],[32,13,24,11],[32,14,24,12,"behavior"],[32,22,24,20],[32,25,24,23],[32,29,24,23,"infiniteQueryBehavior"],[32,53,24,44],[32,54,24,44,"infiniteQueryBehavior"],[32,75,24,44],[32,77,24,45],[32,78,24,46],[33,6,25,4],[33,13,25,11],[33,18,25,16],[33,19,25,17,"getOptimisticResult"],[33,38,25,36],[33,39,25,37,"options"],[33,46,25,44],[33,47,25,45],[34,4,26,2],[35,4,27,2,"fetchNextPage"],[35,17,27,15,"fetchNextPage"],[35,18,27,16,"options"],[35,25,27,23],[35,27,27,25],[36,6,28,4],[36,13,28,11],[36,17,28,15],[36,18,28,16,"fetch"],[36,23,28,21],[36,24,28,21,"Object"],[36,30,28,21],[36,31,28,21,"assign"],[36,37,28,21],[36,42,29,9,"options"],[36,49,29,16],[37,8,30,6,"meta"],[37,12,30,10],[37,14,30,12],[38,10,31,8,"fetchMore"],[38,19,31,17],[38,21,31,19],[39,12,31,21,"direction"],[39,21,31,30],[39,23,31,32],[40,10,31,42],[41,8,32,6],[42,6,32,7],[42,8,33,5],[42,9,33,6],[43,4,34,2],[44,4,35,2,"fetchPreviousPage"],[44,21,35,19,"fetchPreviousPage"],[44,22,35,20,"options"],[44,29,35,27],[44,31,35,29],[45,6,36,4],[45,13,36,11],[45,17,36,15],[45,18,36,16,"fetch"],[45,23,36,21],[45,24,36,21,"Object"],[45,30,36,21],[45,31,36,21,"assign"],[45,37,36,21],[45,42,37,9,"options"],[45,49,37,16],[46,8,38,6,"meta"],[46,12,38,10],[46,14,38,12],[47,10,39,8,"fetchMore"],[47,19,39,17],[47,21,39,19],[48,12,39,21,"direction"],[48,21,39,30],[48,23,39,32],[49,10,39,43],[50,8,40,6],[51,6,40,7],[51,8,41,5],[51,9,41,6],[52,4,42,2],[53,4,43,2,"createResult"],[53,16,43,14,"createResult"],[53,17,43,15,"query"],[53,22,43,20],[53,24,43,22,"options"],[53,31,43,29],[53,33,43,31],[54,6,44,4],[54,12,44,10],[55,8,44,12,"state"],[56,6,44,18],[56,7,44,19],[56,10,44,22,"query"],[56,15,44,27],[57,6,45,4],[57,12,45,10,"parentResult"],[57,24,45,22],[57,27,45,25],[57,32,45,30],[57,33,45,31,"createResult"],[57,45,45,43],[57,46,45,44,"query"],[57,51,45,49],[57,53,45,51,"options"],[57,60,45,58],[57,61,45,59],[58,6,46,4],[58,12,46,10],[59,8,46,12,"isFetching"],[59,18,46,22],[60,8,46,24,"isRefetching"],[60,20,46,36],[61,8,46,38,"isError"],[61,15,46,45],[62,8,46,47,"isRefetchError"],[63,6,46,62],[63,7,46,63],[63,10,46,66,"parentResult"],[63,22,46,78],[64,6,47,4],[64,12,47,10,"fetchDirection"],[64,26,47,24],[64,29,47,27,"state"],[64,34,47,32],[64,35,47,33,"fetchMeta"],[64,44,47,42],[64,46,47,44,"fetchMore"],[64,55,47,53],[64,57,47,55,"direction"],[64,66,47,64],[65,6,48,4],[65,12,48,10,"isFetchNextPageError"],[65,32,48,30],[65,35,48,33,"isError"],[65,42,48,40],[65,46,48,44,"fetchDirection"],[65,60,48,58],[65,65,48,63],[65,74,48,72],[66,6,49,4],[66,12,49,10,"isFetchingNextPage"],[66,30,49,28],[66,33,49,31,"isFetching"],[66,43,49,41],[66,47,49,45,"fetchDirection"],[66,61,49,59],[66,66,49,64],[66,75,49,73],[67,6,50,4],[67,12,50,10,"isFetchPreviousPageError"],[67,36,50,34],[67,39,50,37,"isError"],[67,46,50,44],[67,50,50,48,"fetchDirection"],[67,64,50,62],[67,69,50,67],[67,79,50,77],[68,6,51,4],[68,12,51,10,"isFetchingPreviousPage"],[68,34,51,32],[68,37,51,35,"isFetching"],[68,47,51,45],[68,51,51,49,"fetchDirection"],[68,65,51,63],[68,70,51,68],[68,80,51,78],[69,6,52,4],[69,12,52,10,"result"],[69,18,52,16],[69,21,52,16,"Object"],[69,27,52,16],[69,28,52,16,"assign"],[69,34,52,16],[69,39,53,9,"parentResult"],[69,51,53,21],[70,8,54,6,"fetchNextPage"],[70,21,54,19],[70,23,54,21],[70,27,54,25],[70,28,54,26,"fetchNextPage"],[70,41,54,39],[71,8,55,6,"fetchPreviousPage"],[71,25,55,23],[71,27,55,25],[71,31,55,29],[71,32,55,30,"fetchPreviousPage"],[71,49,55,47],[72,8,56,6,"hasNextPage"],[72,19,56,17],[72,21,56,19],[72,25,56,19,"hasNextPage"],[72,49,56,30],[72,50,56,30,"hasNextPage"],[72,61,56,30],[72,63,56,31,"options"],[72,70,56,38],[72,72,56,40,"state"],[72,77,56,45],[72,78,56,46,"data"],[72,82,56,50],[72,83,56,51],[73,8,57,6,"hasPreviousPage"],[73,23,57,21],[73,25,57,23],[73,29,57,23,"hasPreviousPage"],[73,53,57,38],[73,54,57,38,"hasPreviousPage"],[73,69,57,38],[73,71,57,39,"options"],[73,78,57,46],[73,80,57,48,"state"],[73,85,57,53],[73,86,57,54,"data"],[73,90,57,58],[73,91,57,59],[74,8,58,6,"isFetchNextPageError"],[74,28,58,26],[75,8,59,6,"isFetchingNextPage"],[75,26,59,24],[76,8,60,6,"isFetchPreviousPageError"],[76,32,60,30],[77,8,61,6,"isFetchingPreviousPage"],[77,30,61,28],[78,8,62,6,"isRefetchError"],[78,22,62,20],[78,24,62,22,"isRefetchError"],[78,38,62,36],[78,42,62,40],[78,43,62,41,"isFetchNextPageError"],[78,63,62,61],[78,67,62,65],[78,68,62,66,"isFetchPreviousPageError"],[78,92,62,90],[79,8,63,6,"isRefetching"],[79,20,63,18],[79,22,63,20,"isRefetching"],[79,34,63,32],[79,38,63,36],[79,39,63,37,"isFetchingNextPage"],[79,57,63,55],[79,61,63,59],[79,62,63,60,"isFetchingPreviousPage"],[80,6,63,82],[80,8,64,5],[81,6,65,4],[81,13,65,11,"result"],[81,19,65,17],[82,4,66,2],[83,2,67,0],[83,3,67,1],[84,0,67,2],[84,3]],"functionMap":{"names":["<global>","InfiniteQueryObserver","InfiniteQueryObserver#constructor","InfiniteQueryObserver#bindMethods","InfiniteQueryObserver#setOptions","InfiniteQueryObserver#getOptimisticResult","InfiniteQueryObserver#fetchNextPage","InfiniteQueryObserver#fetchPreviousPage","InfiniteQueryObserver#createResult"],"mappings":"AAA;4BCO;ECC;GDE;EEC;GFI;EGC;GHK;EIC;GJG;EKC;GLO;EMC;GNO;EOC;GPuB;CDC"},"hasCjsExports":false},"type":"js/module"}]}