{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":130},"end":{"line":4,"column":30,"index":146}}],"key":"vm88vOsSPZItrLOmMEyUuGkd1y4=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":35,"index":183},"end":{"line":5,"column":51,"index":199}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"./RecyclerViewContextProvider","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":36,"index":238},"end":{"line":6,"column":76,"index":278}}],"key":"R2wxqGGdt7hWIaXcd7x4QSJE0uU=","exportNames":["*"],"imports":1}},{"name":"./hooks/useLayoutState","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":303},"end":{"line":7,"column":56,"index":336}}],"key":"4ELD9jhD9FNcuppNaJo53H7lRB0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.LayoutCommitObserver = void 0;\n  var tslib_1 = require(_dependencyMap[0], \"tslib\");\n  var react_1 = tslib_1.__importStar(require(_dependencyMap[1], \"react\"));\n  var RecyclerViewContextProvider_1 = require(_dependencyMap[2], \"./RecyclerViewContextProvider\");\n  var useLayoutState_1 = require(_dependencyMap[3], \"./hooks/useLayoutState\");\n  /**\n   * LayoutCommitObserver can be used to observe when FlashList commits a layout.\n   * It is useful when your component has one or more FlashLists somewhere down the tree.\n   * LayoutCommitObserver will trigger `onCommitLayoutEffect` when all of the FlashLists in the tree have finished their first commit.\n   */\n  exports.LayoutCommitObserver = react_1.default.memo(function (props) {\n    var children = props.children,\n      onCommitLayoutEffect = props.onCommitLayoutEffect;\n    var parentRecyclerViewContext = (0, RecyclerViewContextProvider_1.useRecyclerViewContext)();\n    var _a = tslib_1.__read((0, useLayoutState_1.useLayoutState)(0), 2),\n      _ = _a[0],\n      setRenderId = _a[1];\n    var pendingChildIds = (0, react_1.useRef)(new Set()).current;\n    (0, react_1.useLayoutEffect)(function () {\n      if (pendingChildIds.size > 0) {\n        return;\n      }\n      onCommitLayoutEffect === null || onCommitLayoutEffect === void 0 ? void 0 : onCommitLayoutEffect();\n    });\n    // Create context for child components\n    var recyclerViewContext = (0, react_1.useMemo)(function () {\n      return {\n        layout: function () {\n          setRenderId(function (prev) {\n            return prev + 1;\n          });\n        },\n        getRef: function () {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getParentRef: function () {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getParentRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getParentScrollViewRef: function () {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getParentScrollViewRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getScrollViewRef: function () {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getScrollViewRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        markChildLayoutAsPending: function (id) {\n          parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.markChildLayoutAsPending(id);\n          pendingChildIds.add(id);\n        },\n        unmarkChildLayoutAsPending: function (id) {\n          parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.unmarkChildLayoutAsPending(id);\n          if (pendingChildIds.has(id)) {\n            pendingChildIds.delete(id);\n            recyclerViewContext.layout();\n          }\n        }\n      };\n    }, [parentRecyclerViewContext, pendingChildIds, setRenderId]);\n    return react_1.default.createElement(RecyclerViewContextProvider_1.RecyclerViewContextProvider, {\n      value: recyclerViewContext\n    }, children);\n  });\n  exports.LayoutCommitObserver.displayName = \"LayoutCommitObserver\";\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"LayoutCommitObserver"],[7,30,3,28],[7,33,3,31],[7,38,3,36],[7,39,3,37],[8,2,4,0],[8,6,4,4,"tslib_1"],[8,13,4,11],[8,16,4,14,"require"],[8,23,4,21],[8,24,4,21,"_dependencyMap"],[8,38,4,21],[8,50,4,29],[8,51,4,30],[9,2,5,0],[9,6,5,4,"react_1"],[9,13,5,11],[9,16,5,14,"tslib_1"],[9,23,5,21],[9,24,5,22,"__importStar"],[9,36,5,34],[9,37,5,35,"require"],[9,44,5,42],[9,45,5,42,"_dependencyMap"],[9,59,5,42],[9,71,5,50],[9,72,5,51],[9,73,5,52],[10,2,6,0],[10,6,6,4,"RecyclerViewContextProvider_1"],[10,35,6,33],[10,38,6,36,"require"],[10,45,6,43],[10,46,6,43,"_dependencyMap"],[10,60,6,43],[10,96,6,75],[10,97,6,76],[11,2,7,0],[11,6,7,4,"useLayoutState_1"],[11,22,7,20],[11,25,7,23,"require"],[11,32,7,30],[11,33,7,30,"_dependencyMap"],[11,47,7,30],[11,76,7,55],[11,77,7,56],[12,2,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,2,13,0,"exports"],[17,9,13,7],[17,10,13,8,"LayoutCommitObserver"],[17,30,13,28],[17,33,13,31,"react_1"],[17,40,13,38],[17,41,13,39,"default"],[17,48,13,46],[17,49,13,47,"memo"],[17,53,13,51],[17,54,13,52],[17,64,13,62,"props"],[17,69,13,67],[17,71,13,69],[18,4,14,4],[18,8,14,8,"children"],[18,16,14,16],[18,19,14,19,"props"],[18,24,14,24],[18,25,14,25,"children"],[18,33,14,33],[19,6,14,35,"onCommitLayoutEffect"],[19,26,14,55],[19,29,14,58,"props"],[19,34,14,63],[19,35,14,64,"onCommitLayoutEffect"],[19,55,14,84],[20,4,15,4],[20,8,15,8,"parentRecyclerViewContext"],[20,33,15,33],[20,36,15,36],[20,37,15,37],[20,38,15,38],[20,40,15,40,"RecyclerViewContextProvider_1"],[20,69,15,69],[20,70,15,70,"useRecyclerViewContext"],[20,92,15,92],[20,94,15,94],[20,95,15,95],[21,4,16,4],[21,8,16,8,"_a"],[21,10,16,10],[21,13,16,13,"tslib_1"],[21,20,16,20],[21,21,16,21,"__read"],[21,27,16,27],[21,28,16,28],[21,29,16,29],[21,30,16,30],[21,32,16,32,"useLayoutState_1"],[21,48,16,48],[21,49,16,49,"useLayoutState"],[21,63,16,63],[21,65,16,65],[21,66,16,66],[21,67,16,67],[21,69,16,69],[21,70,16,70],[21,71,16,71],[22,6,16,73,"_"],[22,7,16,74],[22,10,16,77,"_a"],[22,12,16,79],[22,13,16,80],[22,14,16,81],[22,15,16,82],[23,6,16,84,"setRenderId"],[23,17,16,95],[23,20,16,98,"_a"],[23,22,16,100],[23,23,16,101],[23,24,16,102],[23,25,16,103],[24,4,17,4],[24,8,17,8,"pendingChildIds"],[24,23,17,23],[24,26,17,26],[24,27,17,27],[24,28,17,28],[24,30,17,30,"react_1"],[24,37,17,37],[24,38,17,38,"useRef"],[24,44,17,44],[24,46,17,46],[24,50,17,50,"Set"],[24,53,17,53],[24,54,17,54],[24,55,17,55],[24,56,17,56],[24,57,17,57,"current"],[24,64,17,64],[25,4,18,4],[25,5,18,5],[25,6,18,6],[25,8,18,8,"react_1"],[25,15,18,15],[25,16,18,16,"useLayoutEffect"],[25,31,18,31],[25,33,18,33],[25,45,18,45],[26,6,19,8],[26,10,19,12,"pendingChildIds"],[26,25,19,27],[26,26,19,28,"size"],[26,30,19,32],[26,33,19,35],[26,34,19,36],[26,36,19,38],[27,8,20,12],[28,6,21,8],[29,6,22,8,"onCommitLayoutEffect"],[29,26,22,28],[29,31,22,33],[29,35,22,37],[29,39,22,41,"onCommitLayoutEffect"],[29,59,22,61],[29,64,22,66],[29,69,22,71],[29,70,22,72],[29,73,22,75],[29,78,22,80],[29,79,22,81],[29,82,22,84,"onCommitLayoutEffect"],[29,102,22,104],[29,103,22,105],[29,104,22,106],[30,4,23,4],[30,5,23,5],[30,6,23,6],[31,4,24,4],[32,4,25,4],[32,8,25,8,"recyclerViewContext"],[32,27,25,27],[32,30,25,30],[32,31,25,31],[32,32,25,32],[32,34,25,34,"react_1"],[32,41,25,41],[32,42,25,42,"useMemo"],[32,49,25,49],[32,51,25,51],[32,63,25,63],[33,6,26,8],[33,13,26,15],[34,8,27,12,"layout"],[34,14,27,18],[34,16,27,20],[34,25,27,20,"layout"],[34,26,27,20],[34,28,27,32],[35,10,28,16,"setRenderId"],[35,21,28,27],[35,22,28,28],[35,32,28,38,"prev"],[35,36,28,42],[35,38,28,44],[36,12,28,46],[36,19,28,53,"prev"],[36,23,28,57],[36,26,28,60],[36,27,28,61],[37,10,28,63],[37,11,28,64],[37,12,28,65],[38,8,29,12],[38,9,29,13],[39,8,30,12,"getRef"],[39,14,30,18],[39,16,30,20],[39,25,30,20,"getRef"],[39,26,30,20],[39,28,30,32],[40,10,31,16],[40,14,31,20,"_a"],[40,16,31,22],[41,10,32,16],[41,17,32,23],[41,18,32,24,"_a"],[41,20,32,26],[41,23,32,29,"parentRecyclerViewContext"],[41,48,32,54],[41,53,32,59],[41,57,32,63],[41,61,32,67,"parentRecyclerViewContext"],[41,86,32,92],[41,91,32,97],[41,96,32,102],[41,97,32,103],[41,100,32,106],[41,105,32,111],[41,106,32,112],[41,109,32,115,"parentRecyclerViewContext"],[41,134,32,140],[41,135,32,141,"getRef"],[41,141,32,147],[41,142,32,148],[41,143,32,149],[41,149,32,155],[41,153,32,159],[41,157,32,163,"_a"],[41,159,32,165],[41,164,32,170],[41,169,32,175],[41,170,32,176],[41,173,32,179,"_a"],[41,175,32,181],[41,178,32,184],[41,182,32,188],[42,8,33,12],[42,9,33,13],[43,8,34,12,"getParentRef"],[43,20,34,24],[43,22,34,26],[43,31,34,26,"getParentRef"],[43,32,34,26],[43,34,34,38],[44,10,35,16],[44,14,35,20,"_a"],[44,16,35,22],[45,10,36,16],[45,17,36,23],[45,18,36,24,"_a"],[45,20,36,26],[45,23,36,29,"parentRecyclerViewContext"],[45,48,36,54],[45,53,36,59],[45,57,36,63],[45,61,36,67,"parentRecyclerViewContext"],[45,86,36,92],[45,91,36,97],[45,96,36,102],[45,97,36,103],[45,100,36,106],[45,105,36,111],[45,106,36,112],[45,109,36,115,"parentRecyclerViewContext"],[45,134,36,140],[45,135,36,141,"getParentRef"],[45,147,36,153],[45,148,36,154],[45,149,36,155],[45,155,36,161],[45,159,36,165],[45,163,36,169,"_a"],[45,165,36,171],[45,170,36,176],[45,175,36,181],[45,176,36,182],[45,179,36,185,"_a"],[45,181,36,187],[45,184,36,190],[45,188,36,194],[46,8,37,12],[46,9,37,13],[47,8,38,12,"getParentScrollViewRef"],[47,30,38,34],[47,32,38,36],[47,41,38,36,"getParentScrollViewRef"],[47,42,38,36],[47,44,38,48],[48,10,39,16],[48,14,39,20,"_a"],[48,16,39,22],[49,10,40,16],[49,17,40,23],[49,18,40,24,"_a"],[49,20,40,26],[49,23,40,29,"parentRecyclerViewContext"],[49,48,40,54],[49,53,40,59],[49,57,40,63],[49,61,40,67,"parentRecyclerViewContext"],[49,86,40,92],[49,91,40,97],[49,96,40,102],[49,97,40,103],[49,100,40,106],[49,105,40,111],[49,106,40,112],[49,109,40,115,"parentRecyclerViewContext"],[49,134,40,140],[49,135,40,141,"getParentScrollViewRef"],[49,157,40,163],[49,158,40,164],[49,159,40,165],[49,165,40,171],[49,169,40,175],[49,173,40,179,"_a"],[49,175,40,181],[49,180,40,186],[49,185,40,191],[49,186,40,192],[49,189,40,195,"_a"],[49,191,40,197],[49,194,40,200],[49,198,40,204],[50,8,41,12],[50,9,41,13],[51,8,42,12,"getScrollViewRef"],[51,24,42,28],[51,26,42,30],[51,35,42,30,"getScrollViewRef"],[51,36,42,30],[51,38,42,42],[52,10,43,16],[52,14,43,20,"_a"],[52,16,43,22],[53,10,44,16],[53,17,44,23],[53,18,44,24,"_a"],[53,20,44,26],[53,23,44,29,"parentRecyclerViewContext"],[53,48,44,54],[53,53,44,59],[53,57,44,63],[53,61,44,67,"parentRecyclerViewContext"],[53,86,44,92],[53,91,44,97],[53,96,44,102],[53,97,44,103],[53,100,44,106],[53,105,44,111],[53,106,44,112],[53,109,44,115,"parentRecyclerViewContext"],[53,134,44,140],[53,135,44,141,"getScrollViewRef"],[53,151,44,157],[53,152,44,158],[53,153,44,159],[53,159,44,165],[53,163,44,169],[53,167,44,173,"_a"],[53,169,44,175],[53,174,44,180],[53,179,44,185],[53,180,44,186],[53,183,44,189,"_a"],[53,185,44,191],[53,188,44,194],[53,192,44,198],[54,8,45,12],[54,9,45,13],[55,8,46,12,"markChildLayoutAsPending"],[55,32,46,36],[55,34,46,38],[55,43,46,38,"markChildLayoutAsPending"],[55,44,46,48,"id"],[55,46,46,50],[55,48,46,52],[56,10,47,16,"parentRecyclerViewContext"],[56,35,47,41],[56,40,47,46],[56,44,47,50],[56,48,47,54,"parentRecyclerViewContext"],[56,73,47,79],[56,78,47,84],[56,83,47,89],[56,84,47,90],[56,87,47,93],[56,92,47,98],[56,93,47,99],[56,96,47,102,"parentRecyclerViewContext"],[56,121,47,127],[56,122,47,128,"markChildLayoutAsPending"],[56,146,47,152],[56,147,47,153,"id"],[56,149,47,155],[56,150,47,156],[57,10,48,16,"pendingChildIds"],[57,25,48,31],[57,26,48,32,"add"],[57,29,48,35],[57,30,48,36,"id"],[57,32,48,38],[57,33,48,39],[58,8,49,12],[58,9,49,13],[59,8,50,12,"unmarkChildLayoutAsPending"],[59,34,50,38],[59,36,50,40],[59,45,50,40,"unmarkChildLayoutAsPending"],[59,46,50,50,"id"],[59,48,50,52],[59,50,50,54],[60,10,51,16,"parentRecyclerViewContext"],[60,35,51,41],[60,40,51,46],[60,44,51,50],[60,48,51,54,"parentRecyclerViewContext"],[60,73,51,79],[60,78,51,84],[60,83,51,89],[60,84,51,90],[60,87,51,93],[60,92,51,98],[60,93,51,99],[60,96,51,102,"parentRecyclerViewContext"],[60,121,51,127],[60,122,51,128,"unmarkChildLayoutAsPending"],[60,148,51,154],[60,149,51,155,"id"],[60,151,51,157],[60,152,51,158],[61,10,52,16],[61,14,52,20,"pendingChildIds"],[61,29,52,35],[61,30,52,36,"has"],[61,33,52,39],[61,34,52,40,"id"],[61,36,52,42],[61,37,52,43],[61,39,52,45],[62,12,53,20,"pendingChildIds"],[62,27,53,35],[62,28,53,36,"delete"],[62,34,53,42],[62,35,53,43,"id"],[62,37,53,45],[62,38,53,46],[63,12,54,20,"recyclerViewContext"],[63,31,54,39],[63,32,54,40,"layout"],[63,38,54,46],[63,39,54,47],[63,40,54,48],[64,10,55,16],[65,8,56,12],[66,6,57,8],[66,7,57,9],[67,4,58,4],[67,5,58,5],[67,7,58,7],[67,8,58,8,"parentRecyclerViewContext"],[67,33,58,33],[67,35,58,35,"pendingChildIds"],[67,50,58,50],[67,52,58,52,"setRenderId"],[67,63,58,63],[67,64,58,64],[67,65,58,65],[68,4,59,4],[68,11,59,12,"react_1"],[68,18,59,19],[68,19,59,20,"default"],[68,26,59,27],[68,27,59,28,"createElement"],[68,40,59,41],[68,41,59,42,"RecyclerViewContextProvider_1"],[68,70,59,71],[68,71,59,72,"RecyclerViewContextProvider"],[68,98,59,99],[68,100,59,101],[69,6,59,103,"value"],[69,11,59,108],[69,13,59,110,"recyclerViewContext"],[70,4,59,130],[70,5,59,131],[70,7,59,133,"children"],[70,15,59,141],[70,16,59,142],[71,2,60,0],[71,3,60,1],[71,4,60,2],[72,2,61,0,"exports"],[72,9,61,7],[72,10,61,8,"LayoutCommitObserver"],[72,30,61,28],[72,31,61,29,"displayName"],[72,42,61,40],[72,45,61,43],[72,67,61,65],[73,0,61,66],[73,3]],"functionMap":{"names":["<global>","react_1._default.memo$argument_0","<anonymous>","layout","setRenderId$argument_0","getRef","getParentRef","getParentScrollViewRef","getScrollViewRef","markChildLayoutAsPending","unmarkChildLayoutAsPending"],"mappings":"AAA;oDCY;iCCK;KDK;mDCE;oBCE;4BCC,oCD;aDC;oBGC;aHG;0BIC;aJG;oCKC;aLG;8BMC;aNG;sCOC;aPG;wCQC;aRM;KDE;CDE"},"hasCjsExports":true},"type":"js/module"}]}