{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":29,"index":254},"end":{"line":13,"column":84,"index":309}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":51,"index":423},"end":{"line":16,"column":85,"index":457}}],"key":"TIc/8c1x92db2QGHqQA7Nto+igI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _NativeAnimatedHelper = _interopRequireDefault(require(_dependencyMap[1], \"../NativeAnimatedHelper\"));\n  var startNativeAnimationNextId = 1;\n\n  // Important note: start() and stop() will only be called at most once.\n  // Once an animation has been stopped or finished its course, it will\n  // not be reused.\n  class Animation {\n    start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {}\n    stop() {\n      if (this.__nativeId) {\n        _NativeAnimatedHelper.default.API.stopAnimation(this.__nativeId);\n      }\n    }\n    __getNativeAnimationConfig() {\n      // Subclasses that have corresponding animation implementation done in native\n      // should override this method\n      throw new Error('This animation type cannot be offloaded to native');\n    }\n    // Helper function for subclasses to make sure onEnd is only called once.\n    __debouncedOnEnd(result) {\n      var onEnd = this.__onEnd;\n      this.__onEnd = null;\n      onEnd && onEnd(result);\n    }\n    __startNativeAnimation(animatedValue) {\n      var startNativeAnimationWaitId = startNativeAnimationNextId + \":startAnimation\";\n      startNativeAnimationNextId += 1;\n      _NativeAnimatedHelper.default.API.setWaitingForIdentifier(startNativeAnimationWaitId);\n      try {\n        var config = this.__getNativeAnimationConfig();\n        animatedValue.__makeNative(config.platformConfig);\n        this.__nativeId = _NativeAnimatedHelper.default.generateNewAnimationId();\n        _NativeAnimatedHelper.default.API.startAnimatingNode(this.__nativeId, animatedValue.__getNativeTag(), config,\n        // $FlowFixMe[method-unbinding] added when improving typing for this parameters\n        this.__debouncedOnEnd.bind(this));\n      } catch (e) {\n        throw e;\n      } finally {\n        _NativeAnimatedHelper.default.API.unsetWaitingForIdentifier(startNativeAnimationWaitId);\n      }\n    }\n  }\n  var _default = exports.default = Animation;\n  module.exports = exports.default;\n});","lineCount":61,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,13,0],[14,6,13,4,"_interopRequireDefault"],[14,28,13,26],[14,31,13,29,"require"],[14,38,13,36],[14,39,13,36,"_dependencyMap"],[14,53,13,36],[14,104,13,83],[14,105,13,84],[14,106,13,85,"default"],[14,113,13,92],[15,2,14,0,"exports"],[15,9,14,7],[15,10,14,8,"__esModule"],[15,20,14,18],[15,23,14,21],[15,27,14,25],[16,2,15,0,"exports"],[16,9,15,7],[16,10,15,8,"default"],[16,17,15,15],[16,20,15,18],[16,25,15,23],[16,26,15,24],[17,2,16,0],[17,6,16,4,"_NativeAnimatedHelper"],[17,27,16,25],[17,30,16,28,"_interopRequireDefault"],[17,52,16,50],[17,53,16,51,"require"],[17,60,16,58],[17,61,16,58,"_dependencyMap"],[17,75,16,58],[17,105,16,84],[17,106,16,85],[17,107,16,86],[18,2,17,0],[18,6,17,4,"startNativeAnimationNextId"],[18,32,17,30],[18,35,17,33],[18,36,17,34],[20,2,19,0],[21,2,20,0],[22,2,21,0],[23,2,22,0],[23,8,22,6,"Animation"],[23,17,22,15],[23,18,22,16],[24,4,23,2,"start"],[24,9,23,7,"start"],[24,10,23,8,"fromValue"],[24,19,23,17],[24,21,23,19,"onUpdate"],[24,29,23,27],[24,31,23,29,"onEnd"],[24,36,23,34],[24,38,23,36,"previousAnimation"],[24,55,23,53],[24,57,23,55,"animatedValue"],[24,70,23,68],[24,72,23,70],[24,73,23,71],[25,4,24,2,"stop"],[25,8,24,6,"stop"],[25,9,24,6],[25,11,24,9],[26,6,25,4],[26,10,25,8],[26,14,25,12],[26,15,25,13,"__nativeId"],[26,25,25,23],[26,27,25,25],[27,8,26,6,"_NativeAnimatedHelper"],[27,29,26,27],[27,30,26,28,"default"],[27,37,26,35],[27,38,26,36,"API"],[27,41,26,39],[27,42,26,40,"stopAnimation"],[27,55,26,53],[27,56,26,54],[27,60,26,58],[27,61,26,59,"__nativeId"],[27,71,26,69],[27,72,26,70],[28,6,27,4],[29,4,28,2],[30,4,29,2,"__getNativeAnimationConfig"],[30,30,29,28,"__getNativeAnimationConfig"],[30,31,29,28],[30,33,29,31],[31,6,30,4],[32,6,31,4],[33,6,32,4],[33,12,32,10],[33,16,32,14,"Error"],[33,21,32,19],[33,22,32,20],[33,73,32,71],[33,74,32,72],[34,4,33,2],[35,4,34,2],[36,4,35,2,"__debouncedOnEnd"],[36,20,35,18,"__debouncedOnEnd"],[36,21,35,19,"result"],[36,27,35,25],[36,29,35,27],[37,6,36,4],[37,10,36,8,"onEnd"],[37,15,36,13],[37,18,36,16],[37,22,36,20],[37,23,36,21,"__onEnd"],[37,30,36,28],[38,6,37,4],[38,10,37,8],[38,11,37,9,"__onEnd"],[38,18,37,16],[38,21,37,19],[38,25,37,23],[39,6,38,4,"onEnd"],[39,11,38,9],[39,15,38,13,"onEnd"],[39,20,38,18],[39,21,38,19,"result"],[39,27,38,25],[39,28,38,26],[40,4,39,2],[41,4,40,2,"__startNativeAnimation"],[41,26,40,24,"__startNativeAnimation"],[41,27,40,25,"animatedValue"],[41,40,40,38],[41,42,40,40],[42,6,41,4],[42,10,41,8,"startNativeAnimationWaitId"],[42,36,41,34],[42,39,41,37,"startNativeAnimationNextId"],[42,65,41,63],[42,68,41,66],[42,85,41,83],[43,6,42,4,"startNativeAnimationNextId"],[43,32,42,30],[43,36,42,34],[43,37,42,35],[44,6,43,4,"_NativeAnimatedHelper"],[44,27,43,25],[44,28,43,26,"default"],[44,35,43,33],[44,36,43,34,"API"],[44,39,43,37],[44,40,43,38,"setWaitingForIdentifier"],[44,63,43,61],[44,64,43,62,"startNativeAnimationWaitId"],[44,90,43,88],[44,91,43,89],[45,6,44,4],[45,10,44,8],[46,8,45,6],[46,12,45,10,"config"],[46,18,45,16],[46,21,45,19],[46,25,45,23],[46,26,45,24,"__getNativeAnimationConfig"],[46,52,45,50],[46,53,45,51],[46,54,45,52],[47,8,46,6,"animatedValue"],[47,21,46,19],[47,22,46,20,"__makeNative"],[47,34,46,32],[47,35,46,33,"config"],[47,41,46,39],[47,42,46,40,"platformConfig"],[47,56,46,54],[47,57,46,55],[48,8,47,6],[48,12,47,10],[48,13,47,11,"__nativeId"],[48,23,47,21],[48,26,47,24,"_NativeAnimatedHelper"],[48,47,47,45],[48,48,47,46,"default"],[48,55,47,53],[48,56,47,54,"generateNewAnimationId"],[48,78,47,76],[48,79,47,77],[48,80,47,78],[49,8,48,6,"_NativeAnimatedHelper"],[49,29,48,27],[49,30,48,28,"default"],[49,37,48,35],[49,38,48,36,"API"],[49,41,48,39],[49,42,48,40,"startAnimatingNode"],[49,60,48,58],[49,61,48,59],[49,65,48,63],[49,66,48,64,"__nativeId"],[49,76,48,74],[49,78,48,76,"animatedValue"],[49,91,48,89],[49,92,48,90,"__getNativeTag"],[49,106,48,104],[49,107,48,105],[49,108,48,106],[49,110,48,108,"config"],[49,116,48,114],[50,8,49,6],[51,8,50,6],[51,12,50,10],[51,13,50,11,"__debouncedOnEnd"],[51,29,50,27],[51,30,50,28,"bind"],[51,34,50,32],[51,35,50,33],[51,39,50,37],[51,40,50,38],[51,41,50,39],[52,6,51,4],[52,7,51,5],[52,8,51,6],[52,15,51,13,"e"],[52,16,51,14],[52,18,51,16],[53,8,52,6],[53,14,52,12,"e"],[53,15,52,13],[54,6,53,4],[54,7,53,5],[54,16,53,14],[55,8,54,6,"_NativeAnimatedHelper"],[55,29,54,27],[55,30,54,28,"default"],[55,37,54,35],[55,38,54,36,"API"],[55,41,54,39],[55,42,54,40,"unsetWaitingForIdentifier"],[55,67,54,65],[55,68,54,66,"startNativeAnimationWaitId"],[55,94,54,92],[55,95,54,93],[56,6,55,4],[57,4,56,2],[58,2,57,0],[59,2,58,0],[59,6,58,4,"_default"],[59,14,58,12],[59,17,58,15,"exports"],[59,24,58,22],[59,25,58,23,"default"],[59,32,58,30],[59,35,58,33,"Animation"],[59,44,58,42],[60,2,59,0,"module"],[60,8,59,6],[60,9,59,7,"exports"],[60,16,59,14],[60,19,59,17,"exports"],[60,26,59,24],[60,27,59,25,"default"],[60,34,59,32],[61,0,59,33],[61,3]],"functionMap":{"names":["<global>","Animation","start","stop","__getNativeAnimationConfig","__debouncedOnEnd","__startNativeAnimation"],"mappings":"AAA;ACqB;ECC,sED;EEC;GFI;EGC;GHI;EIE;GJI;EKC;GLgB;CDC"},"hasCjsExports":true},"type":"js/module"}]}