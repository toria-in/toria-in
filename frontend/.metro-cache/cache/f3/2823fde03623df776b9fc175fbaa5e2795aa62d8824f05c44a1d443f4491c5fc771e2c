{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useCallbackRef = useCallbackRef;\n  var _react = require(_dependencyMap[0], \"react\");\n  /**\n   * creates a MutableRef with ref change callback\n   * @param initialValue - initial ref value\n   * @param {Function} callback - a callback to run when value changes\n   *\n   * @example\n   * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n   * ref.current = 1;\n   * // prints 0 -> 1\n   *\n   * @see https://reactjs.org/docs/hooks-reference.html#useref\n   * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n   * @returns {MutableRefObject}\n   */\n  function useCallbackRef(initialValue, callback) {\n    var ref = (0, _react.useState)(function () {\n      return {\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n          get current() {\n            return ref.value;\n          },\n          set current(value) {\n            var last = ref.value;\n            if (last !== value) {\n              ref.value = value;\n              ref.callback(value, last);\n            }\n          }\n        }\n      };\n    })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n  }\n});","lineCount":49,"map":[[7,2,16,0,"exports"],[7,9,16,0],[7,10,16,0,"useCallbackRef"],[7,24,16,0],[7,27,16,0,"useCallbackRef"],[7,41,16,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,2,16,7],[23,11,16,16,"useCallbackRef"],[23,25,16,30,"useCallbackRef"],[23,26,16,31,"initialValue"],[23,38,16,43],[23,40,16,45,"callback"],[23,48,16,53],[23,50,16,55],[24,4,17,4],[24,8,17,8,"ref"],[24,11,17,11],[24,14,17,14],[24,18,17,14,"useState"],[24,24,17,22],[24,25,17,22,"useState"],[24,33,17,22],[24,35,17,23],[24,47,17,35],[25,6,17,37],[25,13,17,45],[26,8,18,8],[27,8,19,8,"value"],[27,13,19,13],[27,15,19,15,"initialValue"],[27,27,19,27],[28,8,20,8],[29,8,21,8,"callback"],[29,16,21,16],[29,18,21,18,"callback"],[29,26,21,26],[30,8,22,8],[31,8,23,8,"facade"],[31,14,23,14],[31,16,23,16],[32,10,24,12],[32,14,24,16,"current"],[32,21,24,23,"current"],[32,22,24,23],[32,24,24,26],[33,12,25,16],[33,19,25,23,"ref"],[33,22,25,26],[33,23,25,27,"value"],[33,28,25,32],[34,10,26,12],[34,11,26,13],[35,10,27,12],[35,14,27,16,"current"],[35,21,27,23,"current"],[35,22,27,24,"value"],[35,27,27,29],[35,29,27,31],[36,12,28,16],[36,16,28,20,"last"],[36,20,28,24],[36,23,28,27,"ref"],[36,26,28,30],[36,27,28,31,"value"],[36,32,28,36],[37,12,29,16],[37,16,29,20,"last"],[37,20,29,24],[37,25,29,29,"value"],[37,30,29,34],[37,32,29,36],[38,14,30,20,"ref"],[38,17,30,23],[38,18,30,24,"value"],[38,23,30,29],[38,26,30,32,"value"],[38,31,30,37],[39,14,31,20,"ref"],[39,17,31,23],[39,18,31,24,"callback"],[39,26,31,32],[39,27,31,33,"value"],[39,32,31,38],[39,34,31,40,"last"],[39,38,31,44],[39,39,31,45],[40,12,32,16],[41,10,33,12],[42,8,34,8],[43,6,35,4],[43,7,35,5],[44,4,35,8],[44,5,35,9],[44,6,35,10],[44,7,35,11],[44,8,35,12],[44,9,35,13],[45,4,36,4],[46,4,37,4,"ref"],[46,7,37,7],[46,8,37,8,"callback"],[46,16,37,16],[46,19,37,19,"callback"],[46,27,37,27],[47,4,38,4],[47,11,38,11,"ref"],[47,14,38,14],[47,15,38,15,"facade"],[47,21,38,21],[48,2,39,0],[49,0,39,1],[49,3]],"functionMap":{"names":["<global>","useCallbackRef","useState$argument_0","facade.get__current","facade.set__current"],"mappings":"AAA;OCe;uBCC;YCO;aDE;YEC;aFM;SDE;CDI"},"hasCjsExports":false},"type":"js/module"}]}