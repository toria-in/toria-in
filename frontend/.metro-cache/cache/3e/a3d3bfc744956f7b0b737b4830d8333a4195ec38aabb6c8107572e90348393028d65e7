{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./contexts","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":51,"index":78}}],"key":"/H7bS1aiFfINF7YJd7ieumGjoY8=","exportNames":["*"],"imports":1}},{"name":"./hooks","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":79},"end":{"line":3,"column":37,"index":116}}],"key":"YId6Isk8G25zBnWTLIDKNjXQP1M=","exportNames":["*"],"imports":1}},{"name":"./utils/func","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":117},"end":{"line":4,"column":36,"index":153}}],"key":"9IS8OZf4NlD2Mn+fxE/0BHU/BkA=","exportNames":["*"],"imports":1}},{"name":"./utils/obj","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":154},"end":{"line":5,"column":45,"index":199}}],"key":"2+jluqDl7jOkBgjNdCXRIoXTnl8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"DEFAULT_DATA\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_DATA;\n    }\n  });\n  Object.defineProperty(exports, \"DEFAULT_OPTIONS\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_OPTIONS;\n    }\n  });\n  exports.useToast = useToast;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopDefault(_react);\n  var _contexts = require(_dependencyMap[1], \"./contexts\");\n  var _hooks = require(_dependencyMap[2], \"./hooks\");\n  var _utilsFunc = require(_dependencyMap[3], \"./utils/func\");\n  var _utilsObj = require(_dependencyMap[4], \"./utils/obj\");\n  const DEFAULT_DATA = {\n    text1: undefined,\n    text2: undefined\n  };\n  const DEFAULT_OPTIONS = {\n    type: 'success',\n    text1Style: null,\n    text2Style: null,\n    position: 'top',\n    autoHide: true,\n    swipeable: true,\n    visibilityTime: 4000,\n    topOffset: 40,\n    bottomOffset: 40,\n    keyboardOffset: 10,\n    avoidKeyboard: true,\n    onShow: _utilsFunc.noop,\n    onHide: _utilsFunc.noop,\n    onPress: _utilsFunc.noop,\n    props: {}\n  };\n  function useToast({\n    defaultOptions\n  }) {\n    const {\n      log\n    } = (0, _contexts.useLogger)();\n    const {\n      panning\n    } = (0, _contexts.useGesture)();\n    const [isVisible, setIsVisible] = React.default.useState(false);\n    const [data, setData] = React.default.useState(DEFAULT_DATA);\n    const initialOptions = (0, _utilsObj.mergeIfDefined)(DEFAULT_OPTIONS, defaultOptions);\n    const [options, setOptions] = React.default.useState(initialOptions);\n    const onAutoHide = React.default.useCallback(() => {\n      if (panning.current) {\n        log('Auto hiding was blocked due to panning');\n      } else {\n        log('Auto hiding');\n        setIsVisible(false);\n        options.onHide();\n      }\n    }, [log, options, panning]);\n    const {\n      startTimer,\n      clearTimer\n    } = (0, _hooks.useTimeout)(onAutoHide, options.visibilityTime);\n    const hide = React.default.useCallback(() => {\n      log('Hiding');\n      setIsVisible(false);\n      clearTimer();\n      options.onHide();\n    }, [clearTimer, log, options]);\n    const show = React.default.useCallback(params => {\n      log(`Showing with params: ${JSON.stringify(params)}`);\n      const {\n        text1 = DEFAULT_DATA.text1,\n        text2 = DEFAULT_DATA.text2,\n        type = initialOptions.type,\n        text1Style = initialOptions.text1Style,\n        text2Style = initialOptions.text2Style,\n        position = initialOptions.position,\n        autoHide = initialOptions.autoHide,\n        visibilityTime = initialOptions.visibilityTime,\n        topOffset = initialOptions.topOffset,\n        bottomOffset = initialOptions.bottomOffset,\n        keyboardOffset = initialOptions.keyboardOffset,\n        avoidKeyboard = initialOptions.avoidKeyboard,\n        onShow = initialOptions.onShow,\n        onHide = initialOptions.onHide,\n        onPress = initialOptions.onPress,\n        swipeable = initialOptions.swipeable,\n        props = initialOptions.props\n      } = params;\n      setData({\n        text1,\n        text2\n      });\n      setOptions((0, _utilsObj.mergeIfDefined)(initialOptions, {\n        type,\n        text1Style,\n        text2Style,\n        position,\n        autoHide,\n        visibilityTime,\n        topOffset,\n        bottomOffset,\n        keyboardOffset,\n        avoidKeyboard,\n        onShow,\n        onHide,\n        onPress,\n        swipeable,\n        props\n      }));\n      // TODO: validate input\n      // TODO: use a queue when Toast is already visible\n      setIsVisible(true);\n      onShow();\n    }, [initialOptions, log]);\n    React.default.useEffect(() => {\n      const {\n        autoHide\n      } = options;\n      if (isVisible) {\n        if (autoHide) {\n          startTimer();\n        } else {\n          clearTimer();\n        }\n      }\n    }, [isVisible, options, startTimer, clearTimer]);\n    return {\n      isVisible,\n      data,\n      options,\n      show,\n      hide\n    };\n  }\n});","lineCount":151,"map":[[12,2,6,0,"Object"],[12,8,6,0],[12,9,6,0,"defineProperty"],[12,23,6,0],[12,24,6,0,"exports"],[12,31,6,0],[13,4,6,0,"enumerable"],[13,14,6,0],[14,4,6,0,"get"],[14,7,6,0],[14,18,6,0,"get"],[14,19,6,0],[15,6,6,0],[15,13,6,0,"DEFAULT_DATA"],[15,25,6,0],[16,4,6,0],[17,2,6,0],[18,2,10,0,"Object"],[18,8,10,0],[18,9,10,0,"defineProperty"],[18,23,10,0],[18,24,10,0,"exports"],[18,31,10,0],[19,4,10,0,"enumerable"],[19,14,10,0],[20,4,10,0,"get"],[20,7,10,0],[20,18,10,0,"get"],[20,19,10,0],[21,6,10,0],[21,13,10,0,"DEFAULT_OPTIONS"],[21,28,10,0],[22,4,10,0],[23,2,10,0],[24,2,27,0,"exports"],[24,9,27,0],[24,10,27,0,"useToast"],[24,18,27,0],[24,21,27,0,"useToast"],[24,29,27,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,1,0],[26,6,1,0,"React"],[26,11,1,0],[26,14,1,0,"_interopDefault"],[26,29,1,0],[26,30,1,0,"_react"],[26,36,1,0],[27,2,2,0],[27,6,2,0,"_contexts"],[27,15,2,0],[27,18,2,0,"require"],[27,25,2,0],[27,26,2,0,"_dependencyMap"],[27,40,2,0],[28,2,3,0],[28,6,3,0,"_hooks"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,4,0],[29,6,4,0,"_utilsFunc"],[29,16,4,0],[29,19,4,0,"require"],[29,26,4,0],[29,27,4,0,"_dependencyMap"],[29,41,4,0],[30,2,5,0],[30,6,5,0,"_utilsObj"],[30,15,5,0],[30,18,5,0,"require"],[30,25,5,0],[30,26,5,0,"_dependencyMap"],[30,40,5,0],[31,2,6,7],[31,8,6,13,"DEFAULT_DATA"],[31,20,6,25],[31,23,6,28],[32,4,7,4,"text1"],[32,9,7,9],[32,11,7,11,"undefined"],[32,20,7,20],[33,4,8,4,"text2"],[33,9,8,9],[33,11,8,11,"undefined"],[34,2,9,0],[34,3,9,1],[35,2,10,7],[35,8,10,13,"DEFAULT_OPTIONS"],[35,23,10,28],[35,26,10,31],[36,4,11,4,"type"],[36,8,11,8],[36,10,11,10],[36,19,11,19],[37,4,12,4,"text1Style"],[37,14,12,14],[37,16,12,16],[37,20,12,20],[38,4,13,4,"text2Style"],[38,14,13,14],[38,16,13,16],[38,20,13,20],[39,4,14,4,"position"],[39,12,14,12],[39,14,14,14],[39,19,14,19],[40,4,15,4,"autoHide"],[40,12,15,12],[40,14,15,14],[40,18,15,18],[41,4,16,4,"swipeable"],[41,13,16,13],[41,15,16,15],[41,19,16,19],[42,4,17,4,"visibilityTime"],[42,18,17,18],[42,20,17,20],[42,24,17,24],[43,4,18,4,"topOffset"],[43,13,18,13],[43,15,18,15],[43,17,18,17],[44,4,19,4,"bottomOffset"],[44,16,19,16],[44,18,19,18],[44,20,19,20],[45,4,20,4,"keyboardOffset"],[45,18,20,18],[45,20,20,20],[45,22,20,22],[46,4,21,4,"avoidKeyboard"],[46,17,21,17],[46,19,21,19],[46,23,21,23],[47,4,22,4,"onShow"],[47,10,22,10],[47,12,22,12,"noop"],[47,22,22,16],[47,23,22,16,"noop"],[47,27,22,16],[48,4,23,4,"onHide"],[48,10,23,10],[48,12,23,12,"noop"],[48,22,23,16],[48,23,23,16,"noop"],[48,27,23,16],[49,4,24,4,"onPress"],[49,11,24,11],[49,13,24,13,"noop"],[49,23,24,17],[49,24,24,17,"noop"],[49,28,24,17],[50,4,25,4,"props"],[50,9,25,9],[50,11,25,11],[50,12,25,12],[51,2,26,0],[51,3,26,1],[52,2,27,7],[52,11,27,16,"useToast"],[52,19,27,24,"useToast"],[52,20,27,25],[53,4,27,27,"defaultOptions"],[54,2,27,42],[54,3,27,43],[54,5,27,45],[55,4,28,4],[55,10,28,10],[56,6,28,12,"log"],[57,4,28,16],[57,5,28,17],[57,8,28,20],[57,12,28,20,"useLogger"],[57,21,28,29],[57,22,28,29,"useLogger"],[57,31,28,29],[57,33,28,30],[57,34,28,31],[58,4,29,4],[58,10,29,10],[59,6,29,12,"panning"],[60,4,29,20],[60,5,29,21],[60,8,29,24],[60,12,29,24,"useGesture"],[60,21,29,34],[60,22,29,34,"useGesture"],[60,32,29,34],[60,34,29,35],[60,35,29,36],[61,4,30,4],[61,10,30,10],[61,11,30,11,"isVisible"],[61,20,30,20],[61,22,30,22,"setIsVisible"],[61,34,30,34],[61,35,30,35],[61,38,30,38,"React"],[61,43,30,43],[61,44,30,43,"default"],[61,51,30,43],[61,52,30,44,"useState"],[61,60,30,52],[61,61,30,53],[61,66,30,58],[61,67,30,59],[62,4,31,4],[62,10,31,10],[62,11,31,11,"data"],[62,15,31,15],[62,17,31,17,"setData"],[62,24,31,24],[62,25,31,25],[62,28,31,28,"React"],[62,33,31,33],[62,34,31,33,"default"],[62,41,31,33],[62,42,31,34,"useState"],[62,50,31,42],[62,51,31,43,"DEFAULT_DATA"],[62,63,31,55],[62,64,31,56],[63,4,32,4],[63,10,32,10,"initialOptions"],[63,24,32,24],[63,27,32,27],[63,31,32,27,"mergeIfDefined"],[63,40,32,41],[63,41,32,41,"mergeIfDefined"],[63,55,32,41],[63,57,32,42,"DEFAULT_OPTIONS"],[63,72,32,57],[63,74,32,59,"defaultOptions"],[63,88,32,73],[63,89,32,74],[64,4,33,4],[64,10,33,10],[64,11,33,11,"options"],[64,18,33,18],[64,20,33,20,"setOptions"],[64,30,33,30],[64,31,33,31],[64,34,33,34,"React"],[64,39,33,39],[64,40,33,39,"default"],[64,47,33,39],[64,48,33,40,"useState"],[64,56,33,48],[64,57,33,49,"initialOptions"],[64,71,33,63],[64,72,33,64],[65,4,34,4],[65,10,34,10,"onAutoHide"],[65,20,34,20],[65,23,34,23,"React"],[65,28,34,28],[65,29,34,28,"default"],[65,36,34,28],[65,37,34,29,"useCallback"],[65,48,34,40],[65,49,34,41],[65,55,34,47],[66,6,35,8],[66,10,35,12,"panning"],[66,17,35,19],[66,18,35,20,"current"],[66,25,35,27],[66,27,35,29],[67,8,36,12,"log"],[67,11,36,15],[67,12,36,16],[67,52,36,56],[67,53,36,57],[68,6,37,8],[68,7,37,9],[68,13,38,13],[69,8,39,12,"log"],[69,11,39,15],[69,12,39,16],[69,25,39,29],[69,26,39,30],[70,8,40,12,"setIsVisible"],[70,20,40,24],[70,21,40,25],[70,26,40,30],[70,27,40,31],[71,8,41,12,"options"],[71,15,41,19],[71,16,41,20,"onHide"],[71,22,41,26],[71,23,41,27],[71,24,41,28],[72,6,42,8],[73,4,43,4],[73,5,43,5],[73,7,43,7],[73,8,43,8,"log"],[73,11,43,11],[73,13,43,13,"options"],[73,20,43,20],[73,22,43,22,"panning"],[73,29,43,29],[73,30,43,30],[73,31,43,31],[74,4,44,4],[74,10,44,10],[75,6,44,12,"startTimer"],[75,16,44,22],[76,6,44,24,"clearTimer"],[77,4,44,35],[77,5,44,36],[77,8,44,39],[77,12,44,39,"useTimeout"],[77,18,44,49],[77,19,44,49,"useTimeout"],[77,29,44,49],[77,31,44,50,"onAutoHide"],[77,41,44,60],[77,43,44,62,"options"],[77,50,44,69],[77,51,44,70,"visibilityTime"],[77,65,44,84],[77,66,44,85],[78,4,45,4],[78,10,45,10,"hide"],[78,14,45,14],[78,17,45,17,"React"],[78,22,45,22],[78,23,45,22,"default"],[78,30,45,22],[78,31,45,23,"useCallback"],[78,42,45,34],[78,43,45,35],[78,49,45,41],[79,6,46,8,"log"],[79,9,46,11],[79,10,46,12],[79,18,46,20],[79,19,46,21],[80,6,47,8,"setIsVisible"],[80,18,47,20],[80,19,47,21],[80,24,47,26],[80,25,47,27],[81,6,48,8,"clearTimer"],[81,16,48,18],[81,17,48,19],[81,18,48,20],[82,6,49,8,"options"],[82,13,49,15],[82,14,49,16,"onHide"],[82,20,49,22],[82,21,49,23],[82,22,49,24],[83,4,50,4],[83,5,50,5],[83,7,50,7],[83,8,50,8,"clearTimer"],[83,18,50,18],[83,20,50,20,"log"],[83,23,50,23],[83,25,50,25,"options"],[83,32,50,32],[83,33,50,33],[83,34,50,34],[84,4,51,4],[84,10,51,10,"show"],[84,14,51,14],[84,17,51,17,"React"],[84,22,51,22],[84,23,51,22,"default"],[84,30,51,22],[84,31,51,23,"useCallback"],[84,42,51,34],[84,43,51,36,"params"],[84,49,51,42],[84,53,51,47],[85,6,52,8,"log"],[85,9,52,11],[85,10,52,12],[85,34,52,36,"JSON"],[85,38,52,40],[85,39,52,41,"stringify"],[85,48,52,50],[85,49,52,51,"params"],[85,55,52,57],[85,56,52,58],[85,58,52,60],[85,59,52,61],[86,6,53,8],[86,12,53,14],[87,8,53,16,"text1"],[87,13,53,21],[87,16,53,24,"DEFAULT_DATA"],[87,28,53,36],[87,29,53,37,"text1"],[87,34,53,42],[88,8,53,44,"text2"],[88,13,53,49],[88,16,53,52,"DEFAULT_DATA"],[88,28,53,64],[88,29,53,65,"text2"],[88,34,53,70],[89,8,53,72,"type"],[89,12,53,76],[89,15,53,79,"initialOptions"],[89,29,53,93],[89,30,53,94,"type"],[89,34,53,98],[90,8,53,100,"text1Style"],[90,18,53,110],[90,21,53,113,"initialOptions"],[90,35,53,127],[90,36,53,128,"text1Style"],[90,46,53,138],[91,8,53,140,"text2Style"],[91,18,53,150],[91,21,53,153,"initialOptions"],[91,35,53,167],[91,36,53,168,"text2Style"],[91,46,53,178],[92,8,53,180,"position"],[92,16,53,188],[92,19,53,191,"initialOptions"],[92,33,53,205],[92,34,53,206,"position"],[92,42,53,214],[93,8,53,216,"autoHide"],[93,16,53,224],[93,19,53,227,"initialOptions"],[93,33,53,241],[93,34,53,242,"autoHide"],[93,42,53,250],[94,8,53,252,"visibilityTime"],[94,22,53,266],[94,25,53,269,"initialOptions"],[94,39,53,283],[94,40,53,284,"visibilityTime"],[94,54,53,298],[95,8,53,300,"topOffset"],[95,17,53,309],[95,20,53,312,"initialOptions"],[95,34,53,326],[95,35,53,327,"topOffset"],[95,44,53,336],[96,8,53,338,"bottomOffset"],[96,20,53,350],[96,23,53,353,"initialOptions"],[96,37,53,367],[96,38,53,368,"bottomOffset"],[96,50,53,380],[97,8,53,382,"keyboardOffset"],[97,22,53,396],[97,25,53,399,"initialOptions"],[97,39,53,413],[97,40,53,414,"keyboardOffset"],[97,54,53,428],[98,8,53,430,"avoidKeyboard"],[98,21,53,443],[98,24,53,446,"initialOptions"],[98,38,53,460],[98,39,53,461,"avoidKeyboard"],[98,52,53,474],[99,8,53,476,"onShow"],[99,14,53,482],[99,17,53,485,"initialOptions"],[99,31,53,499],[99,32,53,500,"onShow"],[99,38,53,506],[100,8,53,508,"onHide"],[100,14,53,514],[100,17,53,517,"initialOptions"],[100,31,53,531],[100,32,53,532,"onHide"],[100,38,53,538],[101,8,53,540,"onPress"],[101,15,53,547],[101,18,53,550,"initialOptions"],[101,32,53,564],[101,33,53,565,"onPress"],[101,40,53,572],[102,8,53,574,"swipeable"],[102,17,53,583],[102,20,53,586,"initialOptions"],[102,34,53,600],[102,35,53,601,"swipeable"],[102,44,53,610],[103,8,53,612,"props"],[103,13,53,617],[103,16,53,620,"initialOptions"],[103,30,53,634],[103,31,53,635,"props"],[104,6,53,641],[104,7,53,642],[104,10,53,645,"params"],[104,16,53,651],[105,6,54,8,"setData"],[105,13,54,15],[105,14,54,16],[106,8,55,12,"text1"],[106,13,55,17],[107,8,56,12,"text2"],[108,6,57,8],[108,7,57,9],[108,8,57,10],[109,6,58,8,"setOptions"],[109,16,58,18],[109,17,58,19],[109,21,58,19,"mergeIfDefined"],[109,30,58,33],[109,31,58,33,"mergeIfDefined"],[109,45,58,33],[109,47,58,34,"initialOptions"],[109,61,58,48],[109,63,58,50],[110,8,59,12,"type"],[110,12,59,16],[111,8,60,12,"text1Style"],[111,18,60,22],[112,8,61,12,"text2Style"],[112,18,61,22],[113,8,62,12,"position"],[113,16,62,20],[114,8,63,12,"autoHide"],[114,16,63,20],[115,8,64,12,"visibilityTime"],[115,22,64,26],[116,8,65,12,"topOffset"],[116,17,65,21],[117,8,66,12,"bottomOffset"],[117,20,66,24],[118,8,67,12,"keyboardOffset"],[118,22,67,26],[119,8,68,12,"avoidKeyboard"],[119,21,68,25],[120,8,69,12,"onShow"],[120,14,69,18],[121,8,70,12,"onHide"],[121,14,70,18],[122,8,71,12,"onPress"],[122,15,71,19],[123,8,72,12,"swipeable"],[123,17,72,21],[124,8,73,12,"props"],[125,6,74,8],[125,7,74,9],[125,8,74,10],[125,9,74,11],[126,6,75,8],[127,6,76,8],[128,6,77,8,"setIsVisible"],[128,18,77,20],[128,19,77,21],[128,23,77,25],[128,24,77,26],[129,6,78,8,"onShow"],[129,12,78,14],[129,13,78,15],[129,14,78,16],[130,4,79,4],[130,5,79,5],[130,7,79,7],[130,8,79,8,"initialOptions"],[130,22,79,22],[130,24,79,24,"log"],[130,27,79,27],[130,28,79,28],[130,29,79,29],[131,4,80,4,"React"],[131,9,80,9],[131,10,80,9,"default"],[131,17,80,9],[131,18,80,10,"useEffect"],[131,27,80,19],[131,28,80,20],[131,34,80,26],[132,6,81,8],[132,12,81,14],[133,8,81,16,"autoHide"],[134,6,81,25],[134,7,81,26],[134,10,81,29,"options"],[134,17,81,36],[135,6,82,8],[135,10,82,12,"isVisible"],[135,19,82,21],[135,21,82,23],[136,8,83,12],[136,12,83,16,"autoHide"],[136,20,83,24],[136,22,83,26],[137,10,84,16,"startTimer"],[137,20,84,26],[137,21,84,27],[137,22,84,28],[138,8,85,12],[138,9,85,13],[138,15,86,17],[139,10,87,16,"clearTimer"],[139,20,87,26],[139,21,87,27],[139,22,87,28],[140,8,88,12],[141,6,89,8],[142,4,90,4],[142,5,90,5],[142,7,90,7],[142,8,90,8,"isVisible"],[142,17,90,17],[142,19,90,19,"options"],[142,26,90,26],[142,28,90,28,"startTimer"],[142,38,90,38],[142,40,90,40,"clearTimer"],[142,50,90,50],[142,51,90,51],[142,52,90,52],[143,4,91,4],[143,11,91,11],[144,6,92,8,"isVisible"],[144,15,92,17],[145,6,93,8,"data"],[145,10,93,12],[146,6,94,8,"options"],[146,13,94,15],[147,6,95,8,"show"],[147,10,95,12],[148,6,96,8,"hide"],[149,4,97,4],[149,5,97,5],[150,2,98,0],[151,0,98,1],[151,3]],"functionMap":{"names":["<global>","useToast","onAutoHide","hide","show","React.useEffect$argument_0"],"mappings":"AAA;OC0B;yCCO;KDS;mCEE;KFK;mCGC;KH4B;oBIC;KJU;CDQ"},"hasCjsExports":false},"type":"js/module"}]}