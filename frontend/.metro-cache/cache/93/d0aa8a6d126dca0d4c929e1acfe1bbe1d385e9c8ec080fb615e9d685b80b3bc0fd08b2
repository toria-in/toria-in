{"dependencies":[{"name":"./flattenStyle","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"rm9UgLV6/tjWafVcDfRwi+rruio=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return createAnimation;\n    }\n  });\n  var _flattenStyle = require(_dependencyMap[0], \"./flattenStyle\");\n  var flattenStyle = _interopDefault(_flattenStyle);\n  function compareNumbers(a, b) {\n    return a - b;\n  }\n  function notNull(value) {\n    return value !== null;\n  }\n  function parsePosition(value) {\n    if (value === 'from') {\n      return 0;\n    }\n    if (value === 'to') {\n      return 1;\n    }\n    const parsed = parseFloat(value, 10);\n    if (Number.isNaN(parsed) || parsed < 0 || parsed > 1) {\n      return null;\n    }\n    return parsed;\n  }\n  const cache = {};\n  function createAnimation(definition) {\n    const cacheKey = JSON.stringify(definition);\n    if (cache[cacheKey]) {\n      return cache[cacheKey];\n    }\n    const positions = Object.keys(definition).map(parsePosition).filter(notNull);\n    positions.sort(compareNumbers);\n    if (positions.length < 2) {\n      throw new Error('Animation definitions must have at least two values.');\n    }\n    const compiled = {};\n    if (definition.easing) {\n      compiled.easing = definition.easing;\n    }\n    if (definition.style) {\n      compiled.style = definition.style;\n    }\n    for (let i = 0; i < positions.length; i += 1) {\n      const position = positions[i];\n      let keyframe = definition[position];\n      if (!keyframe) {\n        if (position === 0) {\n          keyframe = definition.from;\n        } else if (position === 1) {\n          keyframe = definition.to;\n        }\n      }\n      if (!keyframe) {\n        throw new Error('Missing animation keyframe, this should not happen');\n      }\n      keyframe = (0, flattenStyle.default)(keyframe);\n      Object.keys(keyframe).forEach(key => {\n        if (!(key in compiled)) {\n          compiled[key] = {\n            inputRange: [],\n            outputRange: []\n          };\n        }\n        compiled[key].inputRange.push(position);\n        compiled[key].outputRange.push(keyframe[key]);\n      });\n    }\n    cache[cacheKey] = compiled;\n    return compiled;\n  }\n});","lineCount":85,"map":[[12,2,27,15,"Object"],[12,8,27,15],[12,9,27,15,"defineProperty"],[12,23,27,15],[12,24,27,15,"exports"],[12,31,27,15],[13,4,27,15,"enumerable"],[13,14,27,15],[14,4,27,15,"get"],[14,7,27,15],[14,18,27,15,"get"],[14,19,27,15],[15,6,27,15],[15,13,27,15,"createAnimation"],[15,28,27,15],[16,4,27,15],[17,2,27,15],[18,2,1,0],[18,6,1,0,"_flattenStyle"],[18,19,1,0],[18,22,1,0,"require"],[18,29,1,0],[18,30,1,0,"_dependencyMap"],[18,44,1,0],[19,2,1,0],[19,6,1,0,"flattenStyle"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_flattenStyle"],[19,50,1,0],[20,2,3,0],[20,11,3,9,"compareNumbers"],[20,25,3,23,"compareNumbers"],[20,26,3,24,"a"],[20,27,3,25],[20,29,3,27,"b"],[20,30,3,28],[20,32,3,30],[21,4,4,2],[21,11,4,9,"a"],[21,12,4,10],[21,15,4,13,"b"],[21,16,4,14],[22,2,5,0],[23,2,7,0],[23,11,7,9,"notNull"],[23,18,7,16,"notNull"],[23,19,7,17,"value"],[23,24,7,22],[23,26,7,24],[24,4,8,2],[24,11,8,9,"value"],[24,16,8,14],[24,21,8,19],[24,25,8,23],[25,2,9,0],[26,2,11,0],[26,11,11,9,"parsePosition"],[26,24,11,22,"parsePosition"],[26,25,11,23,"value"],[26,30,11,28],[26,32,11,30],[27,4,12,2],[27,8,12,6,"value"],[27,13,12,11],[27,18,12,16],[27,24,12,22],[27,26,12,24],[28,6,13,4],[28,13,13,11],[28,14,13,12],[29,4,14,2],[30,4,15,2],[30,8,15,6,"value"],[30,13,15,11],[30,18,15,16],[30,22,15,20],[30,24,15,22],[31,6,16,4],[31,13,16,11],[31,14,16,12],[32,4,17,2],[33,4,18,2],[33,10,18,8,"parsed"],[33,16,18,14],[33,19,18,17,"parseFloat"],[33,29,18,27],[33,30,18,28,"value"],[33,35,18,33],[33,37,18,35],[33,39,18,37],[33,40,18,38],[34,4,19,2],[34,8,19,6,"Number"],[34,14,19,12],[34,15,19,13,"isNaN"],[34,20,19,18],[34,21,19,19,"parsed"],[34,27,19,25],[34,28,19,26],[34,32,19,30,"parsed"],[34,38,19,36],[34,41,19,39],[34,42,19,40],[34,46,19,44,"parsed"],[34,52,19,50],[34,55,19,53],[34,56,19,54],[34,58,19,56],[35,6,20,4],[35,13,20,11],[35,17,20,15],[36,4,21,2],[37,4,22,2],[37,11,22,9,"parsed"],[37,17,22,15],[38,2,23,0],[39,2,25,0],[39,8,25,6,"cache"],[39,13,25,11],[39,16,25,14],[39,17,25,15],[39,18,25,16],[40,2,27,15],[40,11,27,24,"createAnimation"],[40,26,27,39,"createAnimation"],[40,27,27,40,"definition"],[40,37,27,50],[40,39,27,52],[41,4,28,2],[41,10,28,8,"cacheKey"],[41,18,28,16],[41,21,28,19,"JSON"],[41,25,28,23],[41,26,28,24,"stringify"],[41,35,28,33],[41,36,28,34,"definition"],[41,46,28,44],[41,47,28,45],[42,4,29,2],[42,8,29,6,"cache"],[42,13,29,11],[42,14,29,12,"cacheKey"],[42,22,29,20],[42,23,29,21],[42,25,29,23],[43,6,30,4],[43,13,30,11,"cache"],[43,18,30,16],[43,19,30,17,"cacheKey"],[43,27,30,25],[43,28,30,26],[44,4,31,2],[45,4,33,2],[45,10,33,8,"positions"],[45,19,33,17],[45,22,33,20,"Object"],[45,28,33,26],[45,29,33,27,"keys"],[45,33,33,31],[45,34,33,32,"definition"],[45,44,33,42],[45,45,33,43],[45,46,33,44,"map"],[45,49,33,47],[45,50,33,48,"parsePosition"],[45,63,33,61],[45,64,33,62],[45,65,33,63,"filter"],[45,71,33,69],[45,72,33,70,"notNull"],[45,79,33,77],[45,80,33,78],[46,4,34,2,"positions"],[46,13,34,11],[46,14,34,12,"sort"],[46,18,34,16],[46,19,34,17,"compareNumbers"],[46,33,34,31],[46,34,34,32],[47,4,36,2],[47,8,36,6,"positions"],[47,17,36,15],[47,18,36,16,"length"],[47,24,36,22],[47,27,36,25],[47,28,36,26],[47,30,36,28],[48,6,37,4],[48,12,37,10],[48,16,37,14,"Error"],[48,21,37,19],[48,22,37,20],[48,76,37,74],[48,77,37,75],[49,4,38,2],[50,4,40,2],[50,10,40,8,"compiled"],[50,18,40,16],[50,21,40,19],[50,22,40,20],[50,23,40,21],[51,4,41,2],[51,8,41,6,"definition"],[51,18,41,16],[51,19,41,17,"easing"],[51,25,41,23],[51,27,41,25],[52,6,42,4,"compiled"],[52,14,42,12],[52,15,42,13,"easing"],[52,21,42,19],[52,24,42,22,"definition"],[52,34,42,32],[52,35,42,33,"easing"],[52,41,42,39],[53,4,43,2],[54,4,44,2],[54,8,44,6,"definition"],[54,18,44,16],[54,19,44,17,"style"],[54,24,44,22],[54,26,44,24],[55,6,45,4,"compiled"],[55,14,45,12],[55,15,45,13,"style"],[55,20,45,18],[55,23,45,21,"definition"],[55,33,45,31],[55,34,45,32,"style"],[55,39,45,37],[56,4,46,2],[57,4,48,2],[57,9,48,7],[57,13,48,11,"i"],[57,14,48,12],[57,17,48,15],[57,18,48,16],[57,20,48,18,"i"],[57,21,48,19],[57,24,48,22,"positions"],[57,33,48,31],[57,34,48,32,"length"],[57,40,48,38],[57,42,48,40,"i"],[57,43,48,41],[57,47,48,45],[57,48,48,46],[57,50,48,48],[58,6,49,4],[58,12,49,10,"position"],[58,20,49,18],[58,23,49,21,"positions"],[58,32,49,30],[58,33,49,31,"i"],[58,34,49,32],[58,35,49,33],[59,6,50,4],[59,10,50,8,"keyframe"],[59,18,50,16],[59,21,50,19,"definition"],[59,31,50,29],[59,32,50,30,"position"],[59,40,50,38],[59,41,50,39],[60,6,51,4],[60,10,51,8],[60,11,51,9,"keyframe"],[60,19,51,17],[60,21,51,19],[61,8,52,6],[61,12,52,10,"position"],[61,20,52,18],[61,25,52,23],[61,26,52,24],[61,28,52,26],[62,10,53,8,"keyframe"],[62,18,53,16],[62,21,53,19,"definition"],[62,31,53,29],[62,32,53,30,"from"],[62,36,53,34],[63,8,54,6],[63,9,54,7],[63,15,54,13],[63,19,54,17,"position"],[63,27,54,25],[63,32,54,30],[63,33,54,31],[63,35,54,33],[64,10,55,8,"keyframe"],[64,18,55,16],[64,21,55,19,"definition"],[64,31,55,29],[64,32,55,30,"to"],[64,34,55,32],[65,8,56,6],[66,6,57,4],[67,6,58,4],[67,10,58,8],[67,11,58,9,"keyframe"],[67,19,58,17],[67,21,58,19],[68,8,59,6],[68,14,59,12],[68,18,59,16,"Error"],[68,23,59,21],[68,24,59,22],[68,76,59,74],[68,77,59,75],[69,6,60,4],[70,6,62,4,"keyframe"],[70,14,62,12],[70,17,62,15],[70,21,62,15,"flattenStyle"],[70,33,62,27],[70,34,62,27,"default"],[70,41,62,27],[70,43,62,28,"keyframe"],[70,51,62,36],[70,52,62,37],[71,6,63,4,"Object"],[71,12,63,10],[71,13,63,11,"keys"],[71,17,63,15],[71,18,63,16,"keyframe"],[71,26,63,24],[71,27,63,25],[71,28,63,26,"forEach"],[71,35,63,33],[71,36,63,35,"key"],[71,39,63,38],[71,43,63,43],[72,8,64,6],[72,12,64,10],[72,14,64,12,"key"],[72,17,64,15],[72,21,64,19,"compiled"],[72,29,64,27],[72,30,64,28],[72,32,64,30],[73,10,65,8,"compiled"],[73,18,65,16],[73,19,65,17,"key"],[73,22,65,20],[73,23,65,21],[73,26,65,24],[74,12,66,10,"inputRange"],[74,22,66,20],[74,24,66,22],[74,26,66,24],[75,12,67,10,"outputRange"],[75,23,67,21],[75,25,67,23],[76,10,68,8],[76,11,68,9],[77,8,69,6],[78,8,70,6,"compiled"],[78,16,70,14],[78,17,70,15,"key"],[78,20,70,18],[78,21,70,19],[78,22,70,20,"inputRange"],[78,32,70,30],[78,33,70,31,"push"],[78,37,70,35],[78,38,70,36,"position"],[78,46,70,44],[78,47,70,45],[79,8,71,6,"compiled"],[79,16,71,14],[79,17,71,15,"key"],[79,20,71,18],[79,21,71,19],[79,22,71,20,"outputRange"],[79,33,71,31],[79,34,71,32,"push"],[79,38,71,36],[79,39,71,37,"keyframe"],[79,47,71,45],[79,48,71,46,"key"],[79,51,71,49],[79,52,71,50],[79,53,71,51],[80,6,72,4],[80,7,72,5],[80,8,72,6],[81,4,73,2],[82,4,75,2,"cache"],[82,9,75,7],[82,10,75,8,"cacheKey"],[82,18,75,16],[82,19,75,17],[82,22,75,20,"compiled"],[82,30,75,28],[83,4,77,2],[83,11,77,9,"compiled"],[83,19,77,17],[84,2,78,0],[85,0,78,1],[85,3]],"functionMap":{"names":["<global>","compareNumbers","notNull","parsePosition","createAnimation","Object.keys.forEach$argument_0"],"mappings":"AAA;ACE;CDE;AEE;CFE;AGE;CHY;eII;kCCoC;KDS;CJM"},"hasCjsExports":false},"type":"js/module"}]}