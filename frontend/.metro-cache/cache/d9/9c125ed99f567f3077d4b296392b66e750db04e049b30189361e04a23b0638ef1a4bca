{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"TimeoutManager\", {\n    enumerable: true,\n    get: function () {\n      return TimeoutManager;\n    }\n  });\n  Object.defineProperty(exports, \"defaultTimeoutProvider\", {\n    enumerable: true,\n    get: function () {\n      return defaultTimeoutProvider;\n    }\n  });\n  Object.defineProperty(exports, \"systemSetTimeoutZero\", {\n    enumerable: true,\n    get: function () {\n      return systemSetTimeoutZero;\n    }\n  });\n  Object.defineProperty(exports, \"timeoutManager\", {\n    enumerable: true,\n    get: function () {\n      return timeoutManager;\n    }\n  });\n  // src/timeoutManager.ts\n  var defaultTimeoutProvider = {\n    // We need the wrapper function syntax below instead of direct references to\n    // global setTimeout etc.\n    //\n    // BAD: `setTimeout: setTimeout`\n    // GOOD: `setTimeout: (cb, delay) => setTimeout(cb, delay)`\n    //\n    // If we use direct references here, then anything that wants to spy on or\n    // replace the global setTimeout (like tests) won't work since we'll already\n    // have a hard reference to the original implementation at the time when this\n    // file was imported.\n    setTimeout: (callback, delay) => setTimeout(callback, delay),\n    clearTimeout: timeoutId => clearTimeout(timeoutId),\n    setInterval: (callback, delay) => setInterval(callback, delay),\n    clearInterval: intervalId => clearInterval(intervalId)\n  };\n  var TimeoutManager = class {\n    // We cannot have TimeoutManager<T> as we must instantiate it with a concrete\n    // type at app boot; and if we leave that type, then any new timer provider\n    // would need to support ReturnType<typeof setTimeout>, which is infeasible.\n    //\n    // We settle for type safety for the TimeoutProvider type, and accept that\n    // this class is unsafe internally to allow for extension.\n    #provider = defaultTimeoutProvider;\n    #providerCalled = false;\n    setTimeoutProvider(provider) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (this.#providerCalled && provider !== this.#provider) {\n          console.error(`[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.`, {\n            previous: this.#provider,\n            provider\n          });\n        }\n      }\n      this.#provider = provider;\n      if (process.env.NODE_ENV !== \"production\") {\n        this.#providerCalled = false;\n      }\n    }\n    setTimeout(callback, delay) {\n      if (process.env.NODE_ENV !== \"production\") {\n        this.#providerCalled = true;\n      }\n      return this.#provider.setTimeout(callback, delay);\n    }\n    clearTimeout(timeoutId) {\n      this.#provider.clearTimeout(timeoutId);\n    }\n    setInterval(callback, delay) {\n      if (process.env.NODE_ENV !== \"production\") {\n        this.#providerCalled = true;\n      }\n      return this.#provider.setInterval(callback, delay);\n    }\n    clearInterval(intervalId) {\n      this.#provider.clearInterval(intervalId);\n    }\n  };\n  var timeoutManager = new TimeoutManager();\n  function systemSetTimeoutZero(callback) {\n    setTimeout(callback, 0);\n  }\n});","lineCount":94,"map":[[7,2,64,0,"Object"],[7,8,64,0],[7,9,64,0,"defineProperty"],[7,23,64,0],[7,24,64,0,"exports"],[7,31,64,0],[8,4,64,0,"enumerable"],[8,14,64,0],[9,4,64,0,"get"],[9,7,64,0],[9,18,64,0,"get"],[9,19,64,0],[10,6,64,0],[10,13,65,2,"TimeoutManager"],[10,27,65,16],[11,4,65,16],[12,2,65,16],[13,2,64,0,"Object"],[13,8,64,0],[13,9,64,0,"defineProperty"],[13,23,64,0],[13,24,64,0,"exports"],[13,31,64,0],[14,4,64,0,"enumerable"],[14,14,64,0],[15,4,64,0,"get"],[15,7,64,0],[15,18,64,0,"get"],[15,19,64,0],[16,6,64,0],[16,13,66,2,"defaultTimeoutProvider"],[16,35,66,24],[17,4,66,24],[18,2,66,24],[19,2,64,0,"Object"],[19,8,64,0],[19,9,64,0,"defineProperty"],[19,23,64,0],[19,24,64,0,"exports"],[19,31,64,0],[20,4,64,0,"enumerable"],[20,14,64,0],[21,4,64,0,"get"],[21,7,64,0],[21,18,64,0,"get"],[21,19,64,0],[22,6,64,0],[22,13,67,2,"systemSetTimeoutZero"],[22,33,67,22],[23,4,67,22],[24,2,67,22],[25,2,64,0,"Object"],[25,8,64,0],[25,9,64,0,"defineProperty"],[25,23,64,0],[25,24,64,0,"exports"],[25,31,64,0],[26,4,64,0,"enumerable"],[26,14,64,0],[27,4,64,0,"get"],[27,7,64,0],[27,18,64,0,"get"],[27,19,64,0],[28,6,64,0],[28,13,68,2,"timeoutManager"],[28,27,68,16],[29,4,68,16],[30,2,68,16],[31,2,1,0],[32,2,2,0],[32,6,2,4,"defaultTimeoutProvider"],[32,28,2,26],[32,31,2,29],[33,4,3,2],[34,4,4,2],[35,4,5,2],[36,4,6,2],[37,4,7,2],[38,4,8,2],[39,4,9,2],[40,4,10,2],[41,4,11,2],[42,4,12,2],[43,4,13,2,"setTimeout"],[43,14,13,12],[43,16,13,14,"setTimeout"],[43,17,13,15,"callback"],[43,25,13,23],[43,27,13,25,"delay"],[43,32,13,30],[43,37,13,35,"setTimeout"],[43,47,13,45],[43,48,13,46,"callback"],[43,56,13,54],[43,58,13,56,"delay"],[43,63,13,61],[43,64,13,62],[44,4,14,2,"clearTimeout"],[44,16,14,14],[44,18,14,17,"timeoutId"],[44,27,14,26],[44,31,14,31,"clearTimeout"],[44,43,14,43],[44,44,14,44,"timeoutId"],[44,53,14,53],[44,54,14,54],[45,4,15,2,"setInterval"],[45,15,15,13],[45,17,15,15,"setInterval"],[45,18,15,16,"callback"],[45,26,15,24],[45,28,15,26,"delay"],[45,33,15,31],[45,38,15,36,"setInterval"],[45,49,15,47],[45,50,15,48,"callback"],[45,58,15,56],[45,60,15,58,"delay"],[45,65,15,63],[45,66,15,64],[46,4,16,2,"clearInterval"],[46,17,16,15],[46,19,16,18,"intervalId"],[46,29,16,28],[46,33,16,33,"clearInterval"],[46,46,16,46],[46,47,16,47,"intervalId"],[46,57,16,57],[47,2,17,0],[47,3,17,1],[48,2,18,0],[48,6,18,4,"TimeoutManager"],[48,20,18,18],[48,23,18,21],[48,29,18,27],[49,4,19,2],[50,4,20,2],[51,4,21,2],[52,4,22,2],[53,4,23,2],[54,4,24,2],[55,4,25,2],[55,5,25,3,"provider"],[55,13,25,11],[55,16,25,14,"defaultTimeoutProvider"],[55,38,25,36],[56,4,26,2],[56,5,26,3,"providerCalled"],[56,19,26,17],[56,22,26,20],[56,27,26,25],[57,4,27,2,"setTimeoutProvider"],[57,22,27,20,"setTimeoutProvider"],[57,23,27,21,"provider"],[57,31,27,29],[57,33,27,31],[58,6,28,4],[58,10,28,8,"process"],[58,17,28,15],[58,18,28,16,"env"],[58,21,28,19],[58,22,28,20,"NODE_ENV"],[58,30,28,28],[58,35,28,33],[58,47,28,45],[58,49,28,47],[59,8,29,6],[59,12,29,10],[59,16,29,14],[59,17,29,15],[59,18,29,16,"providerCalled"],[59,32,29,30],[59,36,29,34,"provider"],[59,44,29,42],[59,49,29,47],[59,53,29,51],[59,54,29,52],[59,55,29,53,"provider"],[59,63,29,61],[59,65,29,63],[60,10,30,8,"console"],[60,17,30,15],[60,18,30,16,"error"],[60,23,30,21],[60,24,31,10],[60,132,31,118],[60,134,32,10],[61,12,32,12,"previous"],[61,20,32,20],[61,22,32,22],[61,26,32,26],[61,27,32,27],[61,28,32,28,"provider"],[61,36,32,36],[62,12,32,38,"provider"],[63,10,32,47],[63,11,33,8],[63,12,33,9],[64,8,34,6],[65,6,35,4],[66,6,36,4],[66,10,36,8],[66,11,36,9],[66,12,36,10,"provider"],[66,20,36,18],[66,23,36,21,"provider"],[66,31,36,29],[67,6,37,4],[67,10,37,8,"process"],[67,17,37,15],[67,18,37,16,"env"],[67,21,37,19],[67,22,37,20,"NODE_ENV"],[67,30,37,28],[67,35,37,33],[67,47,37,45],[67,49,37,47],[68,8,38,6],[68,12,38,10],[68,13,38,11],[68,14,38,12,"providerCalled"],[68,28,38,26],[68,31,38,29],[68,36,38,34],[69,6,39,4],[70,4,40,2],[71,4,41,2,"setTimeout"],[71,14,41,12,"setTimeout"],[71,15,41,13,"callback"],[71,23,41,21],[71,25,41,23,"delay"],[71,30,41,28],[71,32,41,30],[72,6,42,4],[72,10,42,8,"process"],[72,17,42,15],[72,18,42,16,"env"],[72,21,42,19],[72,22,42,20,"NODE_ENV"],[72,30,42,28],[72,35,42,33],[72,47,42,45],[72,49,42,47],[73,8,43,6],[73,12,43,10],[73,13,43,11],[73,14,43,12,"providerCalled"],[73,28,43,26],[73,31,43,29],[73,35,43,33],[74,6,44,4],[75,6,45,4],[75,13,45,11],[75,17,45,15],[75,18,45,16],[75,19,45,17,"provider"],[75,27,45,25],[75,28,45,26,"setTimeout"],[75,38,45,36],[75,39,45,37,"callback"],[75,47,45,45],[75,49,45,47,"delay"],[75,54,45,52],[75,55,45,53],[76,4,46,2],[77,4,47,2,"clearTimeout"],[77,16,47,14,"clearTimeout"],[77,17,47,15,"timeoutId"],[77,26,47,24],[77,28,47,26],[78,6,48,4],[78,10,48,8],[78,11,48,9],[78,12,48,10,"provider"],[78,20,48,18],[78,21,48,19,"clearTimeout"],[78,33,48,31],[78,34,48,32,"timeoutId"],[78,43,48,41],[78,44,48,42],[79,4,49,2],[80,4,50,2,"setInterval"],[80,15,50,13,"setInterval"],[80,16,50,14,"callback"],[80,24,50,22],[80,26,50,24,"delay"],[80,31,50,29],[80,33,50,31],[81,6,51,4],[81,10,51,8,"process"],[81,17,51,15],[81,18,51,16,"env"],[81,21,51,19],[81,22,51,20,"NODE_ENV"],[81,30,51,28],[81,35,51,33],[81,47,51,45],[81,49,51,47],[82,8,52,6],[82,12,52,10],[82,13,52,11],[82,14,52,12,"providerCalled"],[82,28,52,26],[82,31,52,29],[82,35,52,33],[83,6,53,4],[84,6,54,4],[84,13,54,11],[84,17,54,15],[84,18,54,16],[84,19,54,17,"provider"],[84,27,54,25],[84,28,54,26,"setInterval"],[84,39,54,37],[84,40,54,38,"callback"],[84,48,54,46],[84,50,54,48,"delay"],[84,55,54,53],[84,56,54,54],[85,4,55,2],[86,4,56,2,"clearInterval"],[86,17,56,15,"clearInterval"],[86,18,56,16,"intervalId"],[86,28,56,26],[86,30,56,28],[87,6,57,4],[87,10,57,8],[87,11,57,9],[87,12,57,10,"provider"],[87,20,57,18],[87,21,57,19,"clearInterval"],[87,34,57,32],[87,35,57,33,"intervalId"],[87,45,57,43],[87,46,57,44],[88,4,58,2],[89,2,59,0],[89,3,59,1],[90,2,60,0],[90,6,60,4,"timeoutManager"],[90,20,60,18],[90,23,60,21],[90,27,60,25,"TimeoutManager"],[90,41,60,39],[90,42,60,40],[90,43,60,41],[91,2,61,0],[91,11,61,9,"systemSetTimeoutZero"],[91,31,61,29,"systemSetTimeoutZero"],[91,32,61,30,"callback"],[91,40,61,38],[91,42,61,40],[92,4,62,2,"setTimeout"],[92,14,62,12],[92,15,62,13,"callback"],[92,23,62,21],[92,25,62,23],[92,26,62,24],[92,27,62,25],[93,2,63,0],[94,0,63,1],[94,3]],"functionMap":{"names":["<global>","defaultTimeoutProvider.setTimeout","defaultTimeoutProvider.clearTimeout","defaultTimeoutProvider.setInterval","defaultTimeoutProvider.clearInterval","TimeoutManager","TimeoutManager#setTimeoutProvider","TimeoutManager#setTimeout","TimeoutManager#clearTimeout","TimeoutManager#setInterval","TimeoutManager#clearInterval","systemSetTimeoutZero"],"mappings":"AAA;cCY,gDD;gBEC,sCF;eGC,iDH;iBIC,yCJ;qBKE;ECS;GDa;EEC;GFK;EGC;GHE;EIC;GJK;EKC;GLE;CLC;AWE;CXE"},"hasCjsExports":false},"type":"js/module"}]}